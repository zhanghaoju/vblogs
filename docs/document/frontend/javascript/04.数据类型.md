---
title: æ•°æ®ç±»å‹
date: 2022-09-16
---

## Number

### åŸºç¡€æ¦‚å¿µ

#### æ•´æ•°å’Œæµ®ç‚¹æ•°

JavaScript å†…éƒ¨ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯ä»¥64ä½æµ®ç‚¹æ•°å½¢å¼å‚¨å­˜ï¼Œå³ä½¿æ•´æ•°ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ‰€ä»¥ï¼Œ`1`ä¸`1.0`æ˜¯ç›¸åŒçš„ï¼Œæ˜¯åŒä¸€ä¸ªæ•°

```javascript
console.log(1 === 1.0) // true
```

JavaScript è¯­è¨€çš„åº•å±‚æ ¹æœ¬æ²¡æœ‰æ•´æ•°ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯å°æ•°ï¼ˆ64ä½æµ®ç‚¹æ•°ï¼‰

æ³¨æ„ï¼šæµ®ç‚¹æ•°ä¸æ˜¯ç²¾ç¡®çš„å€¼ï¼Œæœ€å¯é çš„æ–¹æ³•æ˜¯ä½¿ç”¨`toFixed()`è¿›è¡Œç»“æœçš„èˆå…¥

```javascript
console.log(0.1 + 0.2 === 0.3); // è¿”å›false
	// -0ä¸0
console.log(-0 === +0); // true
```

#### æ•°å€¼ç²¾åº¦

JavaScriptä¸­å¤§äº2çš„53æ¬¡æ–¹çš„æ•°å€¼ï¼Œéƒ½æ— æ³•ä¿æŒç²¾åº¦ã€‚ç”±äº2çš„53æ¬¡æ–¹æ˜¯ä¸€ä¸ª16ä½çš„åè¿›åˆ¶æ•°å€¼ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºJavaScript å¯¹15ä½çš„åè¿›åˆ¶æ•°éƒ½å¯ä»¥ç²¾ç¡®å¤„ç†ã€‚

```javascript
console.log(Math.pow(2, 53))// 9007199254740992
// å¤šå‡ºçš„ä¸‰ä¸ªæœ‰æ•ˆæ•°å­—ï¼Œå°†æ— æ³•ä¿å­˜
console.log(9007199254740992111) // 9007199254740992000
```

#### æ•°å€¼èŒƒå›´

64ä½æµ®ç‚¹æ•°çš„æŒ‡æ•°éƒ¨åˆ†çš„é•¿åº¦æ˜¯11ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæ„å‘³ç€æŒ‡æ•°éƒ¨åˆ†çš„æœ€å¤§å€¼æ˜¯2047ï¼ˆ2çš„11æ¬¡æ–¹å‡1ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ64ä½æµ®ç‚¹æ•°çš„æŒ‡æ•°éƒ¨åˆ†çš„å€¼æœ€å¤§ä¸º2047ï¼Œåˆ†å‡ºä¸€åŠè¡¨ç¤ºè´Ÿæ•°ï¼Œåˆ™ JavaScript èƒ½å¤Ÿè¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ä¸º21024åˆ°2-1023ï¼ˆå¼€åŒºé—´ï¼‰ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„æ•°æ— æ³•è¡¨ç¤ºï¼Œä¼šè¿”å›`Infinity`(æ— ç©·å¤§)

```javascript
console.log(Math.pow(2, 1024))// Infinity
```

å¦‚æœä¸€ä¸ªæ•°å°äºç­‰äº2çš„-1075æ¬¡æ–¹ï¼ˆæŒ‡æ•°éƒ¨åˆ†æœ€å°å€¼-1023ï¼Œå†åŠ ä¸Šå°æ•°éƒ¨åˆ†çš„52ä½ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿä¸ºâ€œè´Ÿå‘æº¢å‡ºâ€ï¼Œå³ JavaScript æ— æ³•è¡¨ç¤ºè¿™ä¹ˆå°çš„æ•°ï¼Œè¿™æ—¶ä¼šç›´æ¥è¿”å›0ã€‚

```javascript
console.log(Math.pow(2, -1075))// 0
```

JavaScriptæä¾›numberå¯¹è±¡çš„MAX_VALUE  å’Œ MIN_VALUEå±æ€§ï¼Œè¿”å›å¯ä»¥è¡¨ç¤ºå…·ä½“çš„æœ€å¤§å€¼å’Œæœ€å°å€¼

```javascript
	console.log(Number.MAX_VALUE); // 1.7976931348623157e+308
	console.log(Number.MIN_VALUE); // 5e-324sa
```

#### æ•°å€¼è¡¨ç¤ºæ³•

- JavaScriptä¼šè‡ªåŠ¨å°†æ•°å€¼è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º

```javascript
console.log(1234567890123456789012); // 1.2345678901234568e+21
```

- é»˜è®¤æƒ…å†µ JavaScriptä¼šå°†å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶

```javascript
console.log(0xff); // 255
```

- å¯ä»¥é€šè¿‡åœ¨æ•°å­—åé¢é™„åŠ å­—æ¯"`e`"ï¼Œå¹¶æŒ‡å®šé›¶çš„æ•°é‡æ¥ç¼©çŸ­æ•°å­—

```javascript
let billion = 1e9; // 10äº¿ å­—é¢æ„æ€ï¼šæ•°å­—1åé¢è·Ÿ9ä¸ª0
// æ¢å¥è¯è¯´ "e"æŠŠæ•°å­—ä¹˜ä»¥1åé¢è·Ÿç€ç»™å®šæ•°é‡0çš„æ•°å­—
// 1e3 = 1 * 1000
// 123e6 = 123000000
// 1å¾®ç§’(ç™¾ä¸‡åˆ†ä¹‹ä¸€ç§’)ï¼š
let ms = 0.000001
// ä½¿ç”¨"e"æ¥å®Œæˆ
let ms = 1e-6; // 1å·¦è¾¹æœ‰6ä¸ª0
// æ¢å¥è¯è¯´ï¼Œeåé¢çš„è´Ÿæ•°é™¤ä»¥1åé¢è·Ÿç€ç»™å®šæ•°é‡çš„0çš„æ•°å­—
// 1e-3 = 1 / 1000(=0.001) | -3 é™¤ä»¥1åé¢è·Ÿç€3ä¸ª0çš„æ•°å­—
// 1.23e-6 = 1.23 / 1000000 (=0.00000123) | -6 é™¤ä»¥1åé¢è·Ÿç€ç»™å®šæ•°é‡0çš„æ•°å­—
```

### ç‰¹æ®Šæ•°å€¼

#### æ­£é›¶å’Œè´Ÿé›¶

JavaScript å†…éƒ¨å®é™…ä¸Šå­˜åœ¨2ä¸ª`0`ï¼šä¸€ä¸ªæ˜¯`+0`ï¼Œä¸€ä¸ªæ˜¯`-0`ï¼ŒåŒºåˆ«å°±æ˜¯64ä½æµ®ç‚¹æ•°è¡¨ç¤ºæ³•çš„ç¬¦å·ä½ä¸åŒã€‚å®ƒä»¬æ˜¯ç­‰ä»·çš„ã€‚

```javascript
console.log(-0 === +0) // true
console.log(0 === -0) // true
console.log(0 === +0) // true
```

ä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä¼šå°†æ­£é›¶å’Œè´Ÿé›¶ä½œä¸ºæ­£å¸¸`0`ï¼Œåªæœ‰å†`+0`å’Œ`-0`ä½œä¸ºåˆ†ç»„çš„æ—¶å€™ï¼Œè¿”å›çš„å€¼æ˜¯ä¸ç›¸ç­‰çš„

```javascript
console.log((1 / +0) === (1 / -0)) // false
```

#### NaN

`NaN`æ˜¯ JavaScript çš„ç‰¹æ®Šå€¼ï¼Œè¡¨ç¤ºâ€œéæ•°å­—â€ï¼ˆNot a Numberï¼‰ï¼Œä¸»è¦å‡ºç°åœ¨å°†å­—ç¬¦ä¸²è§£ææˆæ•°å­—å‡ºé”™çš„åœºåˆã€‚

å®ƒæ˜¯ä¸€ä¸ªä¸æ­£ç¡®çš„æˆ–è€…ä¸€ä¸ªæœªå®šä¹‰çš„æ•°å­¦æ“ä½œæ‰€å¾—åˆ°çš„ç»“æœ

```javascript
	console.log("not a number" / 2); // NaN
	// NaNæ˜¯ç²˜æ€§çš„ï¼Œä»»ä½•å¯¹NaNçš„è¿›ä¸€æ­¥æ“ä½œéƒ½ä¼šè¿”å›NaN
	console.log('not a number' / 2 + 5); // NaN
  // åœ¨ECMAScriptä¸­ï¼Œ0ã€-0å’Œ+0ç›¸é™¤éƒ½ä¼šè¿”å›NaN
  console.log(0/0)// NaN
  console.log(-0/+0)// NaN
  // NaNä¸ç­‰äºåŒ…æ‹¬NaNåœ¨å†…çš„ä»»ä½•å€¼ï¼Œæ¯”å¦‚ä¸‹é¢çš„æ¯”è¾ƒä¼šè¿”å›false
  console.log(NaN==NaN)
```

#### Infinity

- `Infinity`è¡¨ç¤ºâ€œæ— ç©·â€ï¼Œç”¨æ¥è¡¨ç¤ºä¸¤ç§åœºæ™¯ã€‚ä¸€ç§æ˜¯ä¸€ä¸ªæ­£çš„æ•°å€¼å¤ªå¤§ï¼Œæˆ–ä¸€ä¸ªè´Ÿçš„æ•°å€¼å¤ªå°ï¼Œæ— æ³•è¡¨ç¤ºï¼›å¦ä¸€ç§æ˜¯é0æ•°å€¼é™¤ä»¥0ï¼Œå¾—åˆ°`Infinity`ã€‚

```javascript
console.log(Math.pow(2, 1024))// Infinity
console.log(0 / 0) // NaN
console.log(1 / 0) // Infinity
```

- `Infinity`æœ‰æ­£è´Ÿä¹‹åˆ†ï¼Œ`Infinity`è¡¨ç¤ºæ­£çš„æ— ç©·ï¼Œ`-Infinity`è¡¨ç¤ºè´Ÿçš„æ— ç©·ã€‚

```javascript
console.log(Infinity === -Infinity) // Infinity
console.log(1 / -0) // -Infinity
console.log(-1 / -0) // Infinity
```

éé›¶æ­£æ•°é™¤ä»¥`-0`ï¼Œä¼šå¾—åˆ°`-Infinity`ï¼Œè´Ÿæ•°é™¤ä»¥`-0`ï¼Œä¼šå¾—åˆ°`Infinity`ã€‚

- `Infinity`ä¸`NaN`æ¯”è¾ƒï¼Œæ€»æ˜¯è¿”å›`false`ã€‚

```javascript
console.log(Infinity > NaN) // false
console.log(-Infinity > NaN) // false
console.log(Infinity < NaN) // false
console.log(-Infinity < NaN) // false
```

##### è¿ç®—è§„åˆ™

- `Infinity`çš„å››åˆ™è¿ç®—ï¼Œç¬¦åˆæ— ç©·çš„æ•°å­¦è®¡ç®—è§„åˆ™ã€‚

```javascript
5 * Infinity // Infinity
5 - Infinity // -Infinity
Infinity / 5 // Infinity
5 / Infinity // 0
```

- 0ä¹˜ä»¥`Infinity`ï¼Œè¿”å›`NaN`ï¼›0é™¤ä»¥`Infinity`ï¼Œè¿”å›`0`ï¼›`Infinity`é™¤ä»¥0ï¼Œè¿”å›`Infinity`ã€‚

```javascript
0 * Infinity // NaN
0 / Infinity // 0
Infinity / 0 // Infinity
```

- `Infinity`åŠ ä¸Šæˆ–ä¹˜ä»¥`Infinity`ï¼Œè¿”å›çš„è¿˜æ˜¯`Infinity`ã€‚

```javascript
Infinity + Infinity // Infinity
Infinity * Infinity // Infinity
```

- `Infinity`å‡å»æˆ–é™¤ä»¥`Infinity`ï¼Œå¾—åˆ°`NaN`ã€‚

```javascript
Infinity - Infinity // NaN
Infinity / Infinity // NaN
```

- `Infinity`ä¸`null`è®¡ç®—æ—¶ï¼Œ`null`ä¼šè½¬æˆ0ï¼Œç­‰åŒäºä¸`0`çš„è®¡ç®—ã€‚

```javascript
null * Infinity // NaN
null / Infinity // 0
Infinity / null // Infinity
```

- `Infinity`ä¸`undefined`è®¡ç®—ï¼Œè¿”å›çš„éƒ½æ˜¯`NaN`ã€‚

```javascript
undefined + Infinity // NaN
undefined - Infinity // NaN
undefined * Infinity // NaN
undefined / Infinity // NaN
Infinity / undefined // NaN
```

### ä¸æ•°å€¼ç›¸å…³çš„å…¨å±€æ–¹æ³•

#### parseInt

##### åŸºç¡€è¯­æ³•

- `parseInt`ç”¨äºå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å°†å­—ç¬¦ä¸²è¿›è¡Œè½¬æ¢ä¸ºæ•°å€¼ç±»å‹

```javascript
console.log(typeof (parseInt('123.2'))) // number
```

- è‡ªåŠ¨æ¸…ç©ºå­—ç¬¦ä¸²å¤´éƒ¨çš„ç©ºæ ¼

```javascript
console.log(parseInt('    123.2')) // 123
```

- å¦‚æœå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½è½¬æ¢ä¸ºæ•°å­—ï¼Œåˆ™è¿”å›NaNï¼Œå¦åˆ™åªè¿”å›å·²ç»è½¬æ¢å¥½çš„éƒ¨åˆ†æ•°å€¼

```javascript
console.log(parseInt('12.5em')) // 12
console.log(parseInt('w12.5em')) // NaN
```

- å¦‚æœå­—ç¬¦ä¸²ä»¥`0x`æˆ–`0X`å¼€å¤´ï¼Œ`parseInt`ä¼šå°†å…¶æŒ‰ç…§åå…­è¿›åˆ¶æ•°è§£æã€‚å¦‚æœå·²`0`å¼€å¤´æŒ‰ç…§åè¿›åˆ¶è§£æ

```javascript
console.log(parseInt('0x10')) // 16
console.log(parseInt('010')) // 10
```

##### è¿›åˆ¶è½¬æ¢

`parseInt(str,radix) `çš„ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šäº†æ•°å­—ç³»ç»Ÿçš„åŸºæ•°ï¼Œå› æ­¤`parseInt`è¿˜å¯ä»¥è§£æåå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶ç›¸ç­‰çš„å­—ç¬¦ä¸²

```javascript
console.log(parseInt('0xff', 16)); // 255
// æ²¡æœ‰ 0x ä»ç„¶æœ‰æ•ˆ å¦‚æœæä¾›äº†åå…­è¿›åˆ¶æ•°ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸²å‰é¢çš„"0X"å¯ä»¥çœç•¥
console.log(parseInt('ff', 16)); // 255
console.log(parseInt('2n9c', 36)); // 123456
```

#### parseFloat

- `parseFloat`å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼Œå¦‚æœç¬¦åˆç§‘å­¦è®¡æ•°æ³•ï¼Œåˆ™ä¼šå°†å…¶è¿›è¡Œè½¬æ¢åæ˜¾ç¤º

```javascript
console.log(parseFloat('3.14')) // 3.14
console.log(parseFloat('314e-2')) // 3.14
console.log(parseFloat('0.0314E+2')) // 3.14
```

- å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«ä¸èƒ½è½¬ä¸ºæµ®ç‚¹æ•°çš„æ•°å€¼ï¼Œåªè¿”å›å·²ç»è½¬å¥½çš„éƒ¨åˆ†

```javascript
console.log(parseFloat('3.142rem32')) // 3.142
```

- ä¸`parseInt`ä¸€æ ·ä¼šè¿‡æ»¤å‰ç½®ç©ºæ ¼ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½è½¬æ¢åˆ™è¿”å›`NaN`
- `parseFloat`ä¼šå°†ç©ºå­—ç¬¦ä¸²è½¬ä¸º`NaN`

```javascript
console.log(parseFloat('')) // NaN
```

##### parseFloatä¸Numberçš„è½¬æ¢åŒºåˆ«

```javascript
console.log(parseFloat(true)) // NaN
console.log(Number(true)) // 1
console.log(parseFloat(null))// NaN
console.log(Number(null))// 1
console.log(parseFloat(''))// NaN
console.log(Number(''))// 0
console.log(parseFloat('123.45#')) // 123.45
console.log(Number('123.45#'))// NaN
```

#### isNaN

```
isNaN`æ–¹æ³•å¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º`NaN
```

- åªå¯¹æ•°å€¼æœ‰æ•ˆï¼Œå½“ä¼ å…¥å…¶ä»–å€¼ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²çš„æ—¶å€™ä¼šå…ˆè¿›è¡Œè½¬æ¢ï¼Œå­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢ä¸º`NaN`

```javascript
console.log(isNaN(NaN)) // true
console.log(isNaN(1)) // false
console.log(isNaN('test')) // true
```

- å¯¹äºå¯¹è±¡å’Œæ•°ç»„ï¼Œ`isNaN`ä¹Ÿè¿”å›`true`ï¼Œå¯¹äºç©ºæ•°ç»„æˆ–è€…åªæœ‰ä¸€ä¸ªæ•°å€¼æˆå‘˜çš„æ•°ç»„ä¼šè¿”å›`false`ï¼Œå› ä¸ºè¿™äº›æ•°ç»„èƒ½è¢«`Number`è½¬æˆæ•°å€¼

```javascript
console.log(isNaN({})) // true
console.log(isNaN(['zhj'])) // true
console.log(isNaN([])) // false
console.log(isNaN([123])) // false
```

#### isFinite

`isFinite`æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªå€¼æ˜¯å¦ä¸ºæ­£å¸¸çš„æ•°å€¼ã€‚

```javascript
	console.log(isFinite(Infinity)); // false
	console.log(isFinite(-Infinity)); // false
	console.log(isFinite(NaN)); // false
	console.log(isFinite(undefined)); // false
	console.log(isFinite(null)); // true
	console.log(isFinite("24")) // true
```

### å®ä¾‹æ–¹æ³•

#### toString()

ç”¨æ¥å°†ä¸€ä¸ªå€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼

```javascript
console.log((10).toString()) // 10
let str = (10).toString()
console.log(typeof (str)) // string
```

#### toFixed()

å°†ä¸€ä¸ªæ•°è½¬ä¸ºæŒ‡å®šä½æ•°çš„å°æ•°ï¼Œç„¶åè¿”å›è¿™ä¸ªå°æ•°å¯¹åº”çš„å­—ç¬¦ä¸²

```javascript
let str = (10.234).toFixed(2)
console.log(str) // 10.23
```

æ³¨æ„ï¼š`toFixed()`æ–¹æ³•çš„å‚æ•°ä¸ºå°æ•°ä½æ•°ï¼Œæœ‰æ•ˆèŒƒå›´ä¸º0åˆ°100ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´å°†æŠ›å‡º RangeError é”™è¯¯ã€‚

#### toExponential()

å°†ä¸€ä¸ªæ•°è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•å½¢å¼

```javascript
let str = (10).toExponential()
console.log(str) // 1e+1
```

æ³¨æ„ï¼š`toExponential`æ–¹æ³•çš„å‚æ•°æ˜¯å°æ•°ç‚¹åæœ‰æ•ˆæ•°å­—çš„ä½æ•°ï¼ŒèŒƒå›´ä¸º0åˆ°100ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œä¼šæŠ›å‡ºä¸€ä¸ª RangeError é”™è¯¯ã€‚

#### toPrecision()

å°†ä¸€ä¸ªæ•°è½¬ä¸ºæŒ‡å®šä½æ•°çš„æœ‰æ•ˆæ•°å­—

```javascript
let str1 = (10.234).toPrecision(1)
let str2 = (10.234).toPrecision(2)
console.log(str1) // 1e+1
console.log(str2) // 12
```

#### toLocaleString()

æ¥å—ä¸€ä¸ªåœ°åŒºç ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå½“å‰æ•°å­—åœ¨è¯¥åœ°åŒºçš„å½“åœ°ä¹¦å†™å½¢å¼ã€‚

```javascript
let local = (123).toLocaleString('zh-Hans-CN-u-nu-hanidec')
console.log(local) // ä¸€äºŒä¸‰
```

è¯¥æ–¹æ³•è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°é…ç½®å¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶æŒ‡å®šç”¨é€”çš„è¿”å›å­—ç¬¦ä¸²ã€‚è¯¥å¯¹è±¡çš„`style`å±æ€§æŒ‡å®šè¾“å‡ºæ ·å¼ï¼Œé»˜è®¤å€¼æ˜¯`decimal`ï¼Œè¡¨ç¤ºè¾“å‡ºåè¿›åˆ¶å½¢å¼ã€‚å¦‚æœå€¼ä¸º`percent`ï¼Œè¡¨ç¤ºè¾“å‡ºç™¾åˆ†æ•°ã€‚

```javascript
let local = (123).toLocaleString('zh-Hans-CN', { style: 'percent' })
console.log(local) // 12,300%
```

å¦‚æœ`style`å±æ€§çš„å€¼ä¸º`currency`ï¼Œåˆ™å¯ä»¥æ­é…`currency`å±æ€§ï¼Œè¾“å‡ºæŒ‡å®šæ ¼å¼çš„è´§å¸å­—ç¬¦ä¸²å½¢å¼ã€‚

```javascript
let local = (123).toLocaleString('zh-Hans-CN', { style: 'currency', currency: 'CNY' })
console.log(local) // Â¥123.00
```

## BigInt

### åŸºç¡€çŸ¥è¯†

JavaScript æ‰€æœ‰æ•°å­—éƒ½ä¿å­˜æˆ 64 ä½æµ®ç‚¹æ•°ï¼Œè¿™ç»™æ•°å€¼çš„è¡¨ç¤ºå¸¦æ¥äº†ä¸¤å¤§é™åˆ¶ã€‚

- ä¸€æ˜¯æ•°å€¼çš„ç²¾åº¦åªèƒ½åˆ° 53 ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆç›¸å½“äº 16 ä¸ªåè¿›åˆ¶ä½ï¼‰ï¼Œå¤§äºè¿™ä¸ªèŒƒå›´çš„æ•´æ•°ï¼ŒJavaScript æ˜¯æ— æ³•ç²¾ç¡®è¡¨ç¤ºï¼Œè¿™ä½¿å¾— JavaScript ä¸é€‚åˆè¿›è¡Œç§‘å­¦å’Œé‡‘èæ–¹é¢çš„ç²¾ç¡®è®¡ç®—ã€‚
- äºŒæ˜¯å¤§äºæˆ–ç­‰äº2çš„1024æ¬¡æ–¹çš„æ•°å€¼ï¼ŒJavaScript æ— æ³•è¡¨ç¤ºï¼Œä¼šè¿”å›`Infinity`ã€‚

```javascript
// è¶…è¿‡ 53 ä¸ªäºŒè¿›åˆ¶ä½çš„æ•°å€¼ï¼Œæ— æ³•ä¿æŒç²¾åº¦
console.log(Math.pow(2, 53) === Math.pow(2, 53) + 1) // true
// è¶…è¿‡ 2 çš„ 1024 æ¬¡æ–¹çš„æ•°å€¼ï¼Œæ— æ³•è¡¨ç¤º
console.log(Math.pow(2, 1024)) // Infinity
```

[ES2020](https://github.com/tc39/proposal-bigint) å¼•å…¥äº†ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ BigIntï¼ˆå¤§æ•´æ•°ï¼‰ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯ ECMAScript çš„ç¬¬å…«ç§æ•°æ®ç±»å‹ã€‚BigInt åªç”¨æ¥è¡¨ç¤ºæ•´æ•°ï¼Œæ²¡æœ‰ä½æ•°çš„é™åˆ¶ï¼Œä»»ä½•ä½æ•°çš„æ•´æ•°éƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤ºã€‚

æ³¨æ„ï¼šBigInt ç±»å‹çš„æ•°æ®å¿…é¡»æ·»åŠ åç¼€`n`

```javascript
const a = 2172141653n;
const b = 15346349309n;
// BigInt å¯ä»¥ä¿æŒç²¾åº¦
console.log(a * b) // 33334444555566667777n
// æ™®é€šæ•´æ•°æ— æ³•ä¿æŒç²¾åº¦
console.log(Number(a) * Number(b)) // 33334444555566670000
```

- BigInt åŒæ ·å¯ä»¥ä½¿ç”¨å„ç§è¿›åˆ¶è¡¨ç¤ºï¼Œéƒ½è¦åŠ ä¸Šåç¼€n

```javascript
console.log(0b1101n) // 13n äºŒè¿›åˆ¶
console.log(0o777n)// 511n å…«è¿›åˆ¶
console.log(0xFFn)// 255n åå…­è¿›åˆ¶
```

- BigInt ä¸æ™®é€šæ•´æ•°æ˜¯ä¸¤ç§å€¼ï¼Œå®ƒä»¬ä¹‹é—´å¹¶ä¸ç›¸ç­‰

```javascript
console.log(42n === 42) // false
```

- `typeof`è¿ç®—ç¬¦å¯¹äº BigInt ç±»å‹çš„æ•°æ®è¿”å›`bigint`

```javascript
console.log(typeof 123n) // bigint
```

- BigInt å¯ä»¥ä½¿ç”¨è´Ÿå·ï¼ˆ`-`ï¼‰ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨æ­£å·ï¼ˆ`+`ï¼‰ï¼Œå› ä¸ºä¼šä¸ asm.js å†²çª

```javascript
console.log(-42n) // æ­£ç¡® -42n
console.log(+42n) // æŠ¥é”™
```

JavaScript ä»¥å‰ä¸èƒ½è®¡ç®—70çš„é˜¶ä¹˜ï¼ˆå³`70!`ï¼‰ï¼Œå› ä¸ºè¶…å‡ºäº†å¯ä»¥è¡¨ç¤ºçš„ç²¾åº¦ã€‚

```javascript
let p = 1;
for (let i = 1; i <= 70; i++) {
  p *= i;
}
console.log(p); // 1.197857166996989e+100
```

ç°åœ¨æ”¯æŒå¤§æ•´æ•°äº†ï¼Œå°±å¯ä»¥ç®—äº†ï¼Œæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·è¿è¡Œä¸‹é¢ä»£ç ï¼Œå°±OKã€‚

```javascript
let p = 1n;
for (let i = 1n; i <= 70n; i++) {
  p *= i;
}
console.log(p); // 11978571...00000000n
```

### BigIntå‡½æ•°

JavaScript åŸç”Ÿæä¾›`BigInt`å‡½æ•°ï¼Œå¯ä»¥ç”¨å®ƒç”Ÿæˆ BigInt ç±»å‹çš„æ•°å€¼ã€‚è½¬æ¢è§„åˆ™åŸºæœ¬ä¸`Number()`ä¸€è‡´ï¼Œå°†å…¶ä»–ç±»å‹çš„å€¼è½¬ä¸º BigIntã€‚

```javascript
console.log(BigInt(123)) // 123n
console.log(BigInt('123')) // 123n
console.log(BigInt(false)) // 0n
console.log(BigInt(true)) // 1n
```

- `BigInt()`å‡½æ•°å¿…é¡»æœ‰å‚æ•°ï¼Œè€Œä¸”å‚æ•°å¿…é¡»å¯ä»¥æ­£å¸¸è½¬ä¸ºæ•°å€¼ï¼Œä¸‹é¢çš„ç”¨æ³•éƒ½ä¼šæŠ¥é”™

```javascript
console.log(new BigInt()) // TypeError
console.log(BigInt(undefined)) //TypeError
console.log(BigInt(null)) // TypeError
console.log(BigInt('123n')) // SyntaxError
console.log(BigInt('abc')) // SyntaxError
```

æ³¨æ„ï¼šå­—ç¬¦ä¸²`123n`æ— æ³•è§£ææˆ Number ç±»å‹ï¼Œæ‰€ä»¥ä¹Ÿä¼šæŠ¥é”™

- å‚æ•°å¦‚æœæ˜¯å°æ•°ï¼Œä¹Ÿä¼šæŠ¥é”™

```javascript
console.log(BigInt(1.5)) // RangeError
console.log(BigInt('1.5')) // SyntaxError
```

BigInt ç»§æ‰¿äº† Object å¯¹è±¡çš„ä¸¤ä¸ªå®ä¾‹æ–¹æ³•ã€‚

- `BigInt.prototype.toString()`
- `BigInt.prototype.valueOf()`

å®ƒè¿˜ç»§æ‰¿äº† Number å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹æ–¹æ³•ã€‚

- `BigInt.prototype.toLocaleString()`

æ­¤å¤–ï¼Œè¿˜æä¾›äº†ä¸‰ä¸ªé™æ€æ–¹æ³•ã€‚

- `BigInt.asUintN(width, BigInt)`ï¼š ç»™å®šçš„ BigInt è½¬ä¸º 0 åˆ° 2width - 1 ä¹‹é—´å¯¹åº”çš„å€¼ã€‚
- `BigInt.asIntN(width, BigInt)`ï¼šç»™å®šçš„ BigInt è½¬ä¸º -2width - 1 åˆ° 2width - 1 - 1 ä¹‹é—´å¯¹åº”çš„å€¼ã€‚
- `BigInt.parseInt(string[, radix])`ï¼šè¿‘ä¼¼äº`Number.parseInt()`ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæŒ‡å®šè¿›åˆ¶çš„ BigIntã€‚

```javascript
const max = 2n ** (64n - 1n) - 1n;
console.log(BigInt.asIntN(64, max)) // 9223372036854775807n
console.log(BigInt.asIntN(64, max + 1n)) // -9223372036854775808n
console.log(BigInt.asUintN(64, max + 1n)) // 9223372036854775808n
```

`max`æ˜¯64ä½å¸¦ç¬¦å·çš„ BigInt æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼ã€‚å¦‚æœå¯¹è¿™ä¸ªå€¼åŠ `1n`ï¼Œ`BigInt.asIntN()`å°†ä¼šè¿”å›ä¸€ä¸ªè´Ÿå€¼ï¼Œå› ä¸ºè¿™æ—¶æ–°å¢çš„ä¸€ä½å°†è¢«è§£é‡Šä¸ºç¬¦å·ä½ã€‚è€ŒBigInt.asUintN()æ–¹æ³•ç”±äºä¸å­˜åœ¨ç¬¦å·ä½ï¼Œæ‰€ä»¥å¯ä»¥æ­£ç¡®è¿”å›ç»“æœ



å¦‚æœ`BigInt.asIntN()`å’Œ`BigInt.asUintN()`æŒ‡å®šçš„ä½æ•°ï¼Œå°äºæ•°å€¼æœ¬èº«çš„ä½æ•°ï¼Œé‚£ä¹ˆå¤´éƒ¨çš„ä½å°†è¢«èˆå¼ƒ

```javascript
const max = 2n ** (64n - 1n) - 1n;

console.log(BigInt.asIntN(32, max)) // -1n
console.log(BigInt.asUintN(32, max)) // 4294967295n
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`max`æ˜¯ä¸€ä¸ª64ä½çš„ BigIntï¼Œå¦‚æœè½¬ä¸º32ä½ï¼Œå‰é¢çš„32ä½éƒ½ä¼šè¢«èˆå¼ƒ



äºäºŒè¿›åˆ¶æ•°ç»„ï¼ŒBigInt æ–°å¢äº†ä¸¤ä¸ªç±»å‹`BigUint64Array`å’Œ`BigInt64Array`ï¼Œè¿™ä¸¤ç§æ•°æ®ç±»å‹è¿”å›çš„éƒ½æ˜¯64ä½ BigIntã€‚`DataView`å¯¹è±¡çš„å®ä¾‹æ–¹æ³•`DataView.prototype.getBigInt64()`å’Œ`DataView.prototype.getBigUint64()`ï¼Œè¿”å›çš„ä¹Ÿæ˜¯ BigIntã€‚



### è½¬æ¢è§„åˆ™

å¯ä»¥ä½¿ç”¨`Boolean()`ã€`Number()`å’Œ`String()`è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œå°† BigInt å¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ã€æ•°å€¼å’Œå­—ç¬¦ä¸²ç±»å‹ã€‚

```javascript
console.log(Boolean(0n)) // false
console.log(Boolean(1n)) // true
console.log(Number(1n)) // 1
console.log(String(1n))  // "1"
```

å–åè¿ç®—ç¬¦ï¼ˆ`!`ï¼‰ä¹Ÿå¯ä»¥å°† BigInt è½¬ä¸ºå¸ƒå°”å€¼

```javascript
console.log(!0n) // true
console.log(!1n) // false
```

### æ•°å­¦è¿ç®—

æ•°å­¦è¿ç®—æ–¹é¢ï¼ŒBigInt ç±»å‹çš„`+`ã€`-`ã€`*`å’Œ`**`è¿™å››ä¸ªäºŒå…ƒè¿ç®—ç¬¦ï¼Œä¸ Number ç±»å‹çš„è¡Œä¸ºä¸€è‡´ã€‚é™¤æ³•è¿ç®—`/`ä¼šèˆå»å°æ•°éƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ•´æ•°ã€‚

```javascript
9n / 5n
// 1n
```

å‡ ä¹æ‰€æœ‰çš„æ•°å€¼è¿ç®—ç¬¦éƒ½å¯ä»¥ç”¨åœ¨ BigIntï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªä¾‹å¤–ã€‚

- ä¸å¸¦ç¬¦å·çš„å³ç§»ä½è¿ç®—ç¬¦`>>>`
- ä¸€å…ƒçš„æ±‚æ­£è¿ç®—ç¬¦`+`

ä¸Šé¢ä¸¤ä¸ªè¿ç®—ç¬¦ç”¨åœ¨ BigInt ä¼šæŠ¥é”™ã€‚å‰è€…æ˜¯å› ä¸º`>>>`è¿ç®—ç¬¦æ˜¯ä¸å¸¦ç¬¦å·çš„ï¼Œä½†æ˜¯ BigInt æ€»æ˜¯å¸¦æœ‰ç¬¦å·çš„ï¼Œå¯¼è‡´è¯¥è¿ç®—æ— æ„ä¹‰ï¼Œå®Œå…¨ç­‰åŒäºå³ç§»è¿ç®—ç¬¦`>>`ã€‚åè€…æ˜¯å› ä¸ºä¸€å…ƒè¿ç®—ç¬¦`+`åœ¨ asm.js é‡Œé¢æ€»æ˜¯è¿”å› Number ç±»å‹ï¼Œä¸ºäº†ä¸ç ´å asm.js å°±è§„å®š`+1n`ä¼šæŠ¥é”™ã€‚

BigInt ä¸èƒ½ä¸æ™®é€šæ•°å€¼è¿›è¡Œæ··åˆè¿ç®—ã€‚

```javascript
1n + 1.3 // æŠ¥é”™
```

ä¸Šé¢ä»£ç æŠ¥é”™æ˜¯å› ä¸ºæ— è®ºè¿”å›çš„æ˜¯ BigInt æˆ– Numberï¼Œéƒ½ä¼šå¯¼è‡´ä¸¢å¤±ç²¾åº¦ä¿¡æ¯ã€‚æ¯”å¦‚`(2n**53n + 1n) + 0.5`è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚æœè¿”å› BigInt ç±»å‹ï¼Œ`0.5`è¿™ä¸ªå°æ•°éƒ¨åˆ†ä¼šä¸¢å¤±ï¼›å¦‚æœè¿”å› Number ç±»å‹ï¼Œæœ‰æ•ˆç²¾åº¦åªèƒ½ä¿æŒ 53 ä½ï¼Œå¯¼è‡´ç²¾åº¦ä¸‹é™ã€‚

åŒæ ·çš„åŸå› ï¼Œå¦‚æœä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°çš„å‚æ•°é¢„æœŸæ˜¯ Number ç±»å‹ï¼Œä½†æ˜¯å¾—åˆ°çš„æ˜¯ä¸€ä¸ª BigIntï¼Œå°±ä¼šæŠ¥é”™ã€‚

```javascript
// é”™è¯¯çš„å†™æ³•
Math.sqrt(4n) // æŠ¥é”™

// æ­£ç¡®çš„å†™æ³•
Math.sqrt(Number(4n)) // 2
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`Math.sqrt`çš„å‚æ•°é¢„æœŸæ˜¯ Number ç±»å‹ï¼Œå¦‚æœæ˜¯ BigInt å°±ä¼šæŠ¥é”™ï¼Œå¿…é¡»å…ˆç”¨`Number`æ–¹æ³•è½¬ä¸€ä¸‹ç±»å‹ï¼Œæ‰èƒ½è¿›è¡Œè®¡ç®—ã€‚

asm.js é‡Œé¢ï¼Œ`|0`è·Ÿåœ¨ä¸€ä¸ªæ•°å€¼çš„åé¢ä¼šè¿”å›ä¸€ä¸ª32ä½æ•´æ•°ã€‚æ ¹æ®ä¸èƒ½ä¸ Number ç±»å‹æ··åˆè¿ç®—çš„è§„åˆ™ï¼ŒBigInt å¦‚æœä¸`|0`è¿›è¡Œè¿ç®—ä¼šæŠ¥é”™ã€‚

```javascript
1n | 0 // æŠ¥é”™
```

### å…¶ä»–è¿ç®—

BigInt å¯¹åº”çš„å¸ƒå°”å€¼ï¼Œä¸ Number ç±»å‹ä¸€è‡´ï¼Œå³`0n`ä¼šè½¬ä¸º`false`ï¼Œå…¶ä»–å€¼è½¬ä¸º`true`ã€‚

```javascript
if (0n) {
  console.log('if');
} else {
  console.log('else');
}
// else
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`0n`å¯¹åº”`false`ï¼Œæ‰€ä»¥ä¼šè¿›å…¥`else`å­å¥ã€‚

æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆæ¯”å¦‚`>`ï¼‰å’Œç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ`==`ï¼‰å…è®¸ BigInt ä¸å…¶ä»–ç±»å‹çš„å€¼æ··åˆè®¡ç®—ï¼Œå› ä¸ºè¿™æ ·åšä¸ä¼šæŸå¤±ç²¾åº¦ã€‚

```javascript
0n < 1 // true
0n < true // true
0n == 0 // true
0n == false // true
0n === 0 // false
```

BigInt ä¸å­—ç¬¦ä¸²æ··åˆè¿ç®—æ—¶ï¼Œä¼šå…ˆè½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œè¿ç®—ã€‚

```javascript
console.log('' + 123n) // "123"
```

 ## String

### åŸºç¡€å†…å®¹

#### åŸºæœ¬åŒ…è£…ç±»å‹

æŠŠç®€å•æ•°æ®ç±»å‹ï¼ŒåŒ…è£…æˆä¸ºå¤æ‚æ•°æ®ç±»å‹ï¼Œè¿™æ ·åŸºæœ¬æ•°æ®ç±»å‹æœ‰äº†å±æ€§å’Œæ–¹æ³•

```javascript
let str = 'karim';
console.log(str.length);
```

#### å†…éƒ¨çš„æ“ä½œ

```javascript
	// ï¼ˆ1ï¼‰æŠŠç®€å•æ•°æ®ç±»å‹åŒ…è£…ä¸ºå¤æ‚æ•°æ®ç±»å‹
	var temp = String('karim');
	// ï¼ˆ2ï¼‰æŠŠä¸´æ—¶å˜é‡çš„å€¼ç»™ str
	str = temp;
	// ï¼ˆ3ï¼‰é”€æ¯è¿™ä¸ªä¸´æ—¶å˜é‡
	temp = null;
```

#### é»˜è®¤åªèƒ½å†™åœ¨ä¸€è¡Œå†…ï¼Œå¦åˆ™ä¼šæŠ¥é”™

```javascript
console.log('a
b
c')// æŠ¥é”™
```

#### å¯ä»¥åŒ…å«åœ¨å•å¼•å·ã€åŒå¼•å·æˆ–åå¼•å·ä¸­ä¸‰ç§æ–¹å¼ä¸­

1.  åŒå¼•å·ï¼š"Hello" 
2. JSON.stringify å•å¼•å·ï¼š'Hello' 
3. åå¼•å·ï¼šHello

- å•å¼•å·å­—ç¬¦ä¸²å†…éƒ¨å¯ä»¥ä½¿ç”¨åŒå¼•å·ï¼ŒåŒå¼•å·çš„å†…éƒ¨å¯ä»¥ä½¿ç”¨å•å¼•å·

```javascript
	console.log('key = "value"'); // key = "value"
	// å•å¼•å·å­—ç¬¦ä¸²çš„å†…éƒ¨ä½¿ç”¨å•å¼•å·éœ€è¦åœ¨å†…éƒ¨çš„å•å¼•å·å‰é¢åŠ ä¸Šåæ–œæ ï¼Œç”¨æ¥è½¬ä¹‰ã€‚åŒå¼•å·å†…éƒ¨å¼•ç”¨åŒå¼•å·åŒç†
	console.log('Did she say \'hello\''); // Did she say 'hello'
	// åŒå¼•å·å’Œå•å¼•å·éƒ½æ˜¯"ç®€å•"å¼•ç”¨ï¼Œåœ¨JavaScriptä¸­ä¸¤è€…å‡ ä¹æ²¡æœ‰ä»€ä¹ˆå·®åˆ«ã€‚
```

- åŒå¼•å·å’Œå•å¼•å·éƒ½æ˜¯"ç®€å•"å¼•ç”¨ï¼Œåœ¨JavaScriptä¸­ä¸¤è€…å‡ ä¹æ²¡æœ‰ä»€ä¹ˆå·®åˆ«ã€‚

```javascript
	// åå¼•å·æ˜¯åŠŸèƒ½æ‰©å±•å¼•å¯¼ã€‚å…è®¸æˆ‘ä»¬é€šè¿‡${...}å°†ä»»ä½•è¡¨è¾¾å¼åµŒå…¥åˆ°å­—ç¬¦ä¸²ä¸­
	function sum(a, b) {
		return a + b;
	}
	console.log(`1 + 2 = ${sum(1, 2)}`) // 1 + 2 = 3
	// ä½¿ç”¨åå¼•å·çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯å®ƒä»¬å…è®¸å­—ç¬¦ä¸²è·¨è¡Œ
	let guestList = `Guests:
  * John
  * Pete
  * Mary
  `;
	console.log(guestList)
```

#### å­—ç¬¦ä¸²æ‹¼æ¥

ä½¿ç”¨è¿æ¥è¿ç®—ç¬¦`+`å¯ä»¥è¿æ¥å¤šä¸ªå•è¡Œå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²+ä»»ä½•ç±»å‹ = æ‹¼æ¥ä¹‹åçš„æ–°å­—ç¬¦ä¸²ã€æ•°å€¼ç›¸åŠ ï¼Œå­—ç¬¦ç›¸è¿ã€‘

```javascript
	console.log('æ²™æ¼ ' + 'éª†é©¼'); // æ²™æ¼ éª†é©¼
	console.log('alan' + 18); // alan18
	console.log(12 + 14); // 26
```

### ç‰¹æ®Šå­—ç¬¦

#### æ¢è¡Œç¬¦

å¦‚æœè¦å°†å­—ç¬¦ä¸²åˆ†æˆå¤šè¡Œæ˜¾ç¤ºï¼Œéœ€è¦åœ¨æ¯ä¸€è¡Œå°¾éƒ¨ä½¿ç”¨`\n`

```javascript
var longString = 'long\
nLong\
nlong\
nstring'
console.log(longString); // longnLongnlongnstring
```

#### è½¬ä¹‰ç¬¦

åæ–œæ `(\)`åœ¨å­—ç¬¦ä¸²ä¸­æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œç”¨æ¥è¡¨ç¤ºä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œåˆç§°ä¸ºè½¬ä¹‰ç¬¦

```javascript
	// åæ–œæ ï¼ˆ\ï¼‰åœ¨å­—ç¬¦ä¸²ä¸­æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œç”¨æ¥è¡¨ç¤ºä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œåˆç§°ä¸ºè½¬ä¹‰ç¬¦
	// å¦‚æœæƒ³è¦åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥ä¸€ä¸ªåˆ†å·
	console.log('I\'m the Walrus!'); // I'm the Walrus!
	// ç”±äºåªæœ‰ä¸å¤–éƒ¨é—­åˆå¼•å·ç›¸åŒçš„å¼•å·æ‰éœ€è¦è½¬ä¹‰ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨åå¼•å·
	console.log(`I'm the Walrus!`); // I'm the Walrus!
	// å¦‚æœæƒ³è¦è¾“å‡ºå®é™…çš„åæ–œæ 
	console.log(`\\`); // \
```

#### unicodeç¤ºä¾‹

```javascript
	console.log("\u00A9"); // Â©
	console.log("\u{20331}"); // ä½«ï¼Œç½•è§çš„ä¸­å›½è±¡å½¢æ–‡å­—ï¼ˆé•¿ unicodeï¼‰
	console.log("\u{1F60D}"); // ğŸ˜ï¼Œç¬‘è„¸ç¬¦å·ï¼ˆå¦ä¸€ä¸ªé•¿ unicodeï¼‰
```

### å­—ç¬¦ä¸²ä¸æ•°ç»„

å­—ç¬¦ä¸²å¯ä»¥è¢«è§†ä¸ºå­—ç¬¦æ•°ç»„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œç”¨æ¥è¿”å›æŸä¸ªä½ç½®çš„å­—ç¬¦ï¼ˆä½ç½®ç¼–å·ä»0å¼€å§‹ï¼‰æˆ–è€…è°ƒç”¨`str.charAt(pos)`æ–¹æ³•è¿”å›

```javascript
let str = 'Hello';
// å¯¹å­—ç¬¦ä¸²ç›´æ¥ä½¿ç”¨[]æ–¹æ‹¬å·è¿ç®—ç¬¦
console.log(str[0]) // H
console.log(str.charAt(0)) // H
// æœ€åä¸€ä¸ªå­—ç¬¦
console.log(str[str.length - 1]); // o
let st = 'Hello';
console.log(str[1000]);// undefined
console.log(str.charAt(1000));// ç©ºå­—ç¬¦ä¸²
```

ä»–ä»¬ä¸¤ä¸ªå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œ`[]`è¶…è¿‡æ•°ç»„é•¿åº¦ä¼šè¿”å›undefinedï¼Œè€Œ`charAt`è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²



æ³¨æ„ï¼šæ— æ³•é€šè¿‡æ•°ç»„çš„æ–¹å¼å»æ”¹å˜å­—ç¬¦ä¸²

#### å­—ç¬¦ä¸²çš„é•¿åº¦

lengthå±æ€§è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¯¥å±æ€§ä¹Ÿæ˜¯æ— æ³•æ”¹å˜çš„

```javascript
	let src = 'hello';
	console.log(s.length); // 5
	console.log(s.length = 3); // 3
	console.log(s.length); // 5
```

æ³¨æ„ï¼š`src.length`æ˜¯ä¸€ä¸ªæ•°å­—å±æ€§ï¼Œä¸æ˜¯å‡½æ•°ï¼Œä¸éœ€è¦åœ¨åé¢åŠ æ‹¬å·

#### å­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§

å­—ç¬¦ä¸²å£°æ˜ä¹‹åæ˜¯ä¸å¯å˜çš„ï¼Œè¦ä¿®æ”¹æŸä¸ªå˜é‡çš„ä¸­çš„å­—ç¬¦ä¸²å€¼ï¼Œå¿…é¡»å…ˆé”€æ¯åŸå§‹çš„å­—ç¬¦ä¸²ï¼Œç„¶åå°†åŒ…å«æ–°å€¼çš„å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¿å­˜åˆ°è¯¥å˜é‡

```javascript
let str = 'Hi';
str[0] = 'h';
console.log(str[0]); // H å­—ç¬¦ä¸²æœªæ”¹å˜
// é€šå¸¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶åˆ†é…ç»™strè€Œä¸æ˜¯ä»¥å‰çš„å­—ç¬¦ä¸²
str = 'h' + str[1]; // æ›¿æ¢å­—ç¬¦ä¸²
console.log(str); // hi
```

#### æ”¹å˜å¤§å°å†™

ä½¿ç”¨toLowerCase() å’Œ toUpperCase() æ–¹æ³•å¯ä»¥æ”¹å˜å­—ç¬¦ä¸²å¤§å°å†™

```javascript
alert('Interface'.toUpperCase()); // INTERFACE
alert('Interface'.charAt(0).toLowerCase());// i
alert('BASE'.toLowerCase()); // base
```

### Base64è½¬ç 

æ‰€è°“ Base64 å°±æ˜¯ä¸€ç§ç¼–ç æ–¹æ³•ï¼Œå¯ä»¥å°†ä»»æ„å€¼è½¬æˆ 0ï½9ã€Aï½Zã€a-zã€`+`å’Œ`/`è¿™64ä¸ªå­—ç¬¦ç»„æˆçš„å¯æ‰“å°å­—ç¬¦ã€‚ä½¿ç”¨å®ƒçš„ä¸»è¦ç›®çš„ï¼Œä¸æ˜¯ä¸ºäº†åŠ å¯†ï¼Œè€Œæ˜¯ä¸ºäº†ä¸å‡ºç°ç‰¹æ®Šå­—ç¬¦ï¼Œç®€åŒ–ç¨‹åºçš„å¤„ç†ã€‚

#### `btoa()`å’Œ`atob()`è½¬ç 

JavaScriptåŸç”Ÿæä¾›äº†ä¸¤ä¸ªBase64ç›¸å…³çš„æ–¹æ³•

- `btoa()`ï¼šä»»æ„å€¼è½¬ä¸º Base64 ç¼–ç 
- `atob()`ï¼šBase64 ç¼–ç è½¬ä¸ºåŸæ¥çš„å€¼

```javascript
	let string = 'Hello World!';
	console.log(btoa(string)); // "SGVsbG8gV29ybGQh"
	// atob() Base64ç¼–ç è½¬ä¸ºåŸæ¥çš„å€¼
	console.log(atob('SGVsbG8gV29ybGQh')); // Hello World!
```

æ³¨æ„ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•ä¸é€‚åˆ`ASCII`ç çš„å­—ç¬¦

```javascript
console.log(btoa('ä½ å¥½')) // æŠ¥é”™
```

#### éASCIIç å­—ç¬¦è½¬æ¢

è¦å°†é ASCII ç å­—ç¬¦è½¬ä¸º Base64 ç¼–ç ï¼Œå¿…é¡»ä¸­é—´æ’å…¥ä¸€ä¸ªè½¬ç ç¯èŠ‚ï¼Œå†ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚

```javascript
	function b64Encode(str) {
		return btoa(encodeURIComponent(str));
	}

	function b64Decode(str) {
		return decodeURIComponent(atob(str));
	}
	console.log(b64Encode('ä½ å¥½')); // JUU0JUJEJUEwJUU1JUE1JUJE

	console.log(b64Decode('JUU0JUJEJUEwJUU1JUE1JUJE')); // ä½ å¥½
```

### æŸ¥æ‰¾å­—ç¬¦ä¸²

#### indexOf()

å®ƒä»ç»™å®šä½ç½®çš„poså¼€å§‹ï¼Œåœ¨strä¸­æŸ¥æ‰¾substrï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±è¿”å›-1ï¼Œå¦åˆ™è¿”å›åŒ¹é…çš„ä½ç½®

##### è¯­æ³•

```javascript
str.indexOf(substr,pos)
let str1 = 'Widget with id';
alert(str1.indexOf('Widget'));// 0, å› ä¸º 'Widget' ä¸€å¼€å§‹å°±è¢«æ‰¾åˆ°
alert(str1.indexOf('widget')); // -1ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼Œæ£€ç´¢æ˜¯å¤§å°å†™æ•æ„Ÿçš„
alert(str1.indexOf("id")); // 1ï¼Œ"id" åœ¨ä½ç½® 1 å¤„ï¼ˆâ€¦â€¦idget å’Œ idï¼‰
// ç¬¬äºŒä¸ªå‚æ•°å…è®¸æˆ‘ä»¬ä»ç»™å®šçš„èµ·å§‹ä½ç½®å¼€å§‹æ£€ç´¢ï¼Œä¾‹å¦‚ï¼Œ"id" ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®æ˜¯ 1ã€‚æŸ¥è¯¢ä¸‹ä¸€ä¸ªå­˜åœ¨ä½ç½®æ—¶ï¼Œæˆ‘ä»¬ä» 2 å¼€å§‹æ£€ç´¢
let str2 = 'Widget with id';
alert(str2.indexOf('id', 2)) // 12
```

- è¿”å›æ‰€æœ‰çš„å­—ç¬¦ä¸²ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨å¾ªç¯è¿›è¡Œéå†ï¼Œæ¯ä¸€æ¬¡æ–°çš„è°ƒç”¨éƒ½æ˜¯åœ¨ä¸Šä¸€æ¬¡è°ƒç”¨ä¹‹å

```javascript
let str3 = 'abacdeafghijk';
let target = 'a';
let pos = 0;
 while (true) {
 let fountPos = str3.indexOf(target, pos);
 if (fountPos == -1) {
 break;
 }
 console.log(`Found at ${fountPos}`); // 0 2 6
 // ç»§ç»­ä»ä¸‹ä¸€ä¸ªä½ç½®æŸ¥æ‰¾
 pos = fountPos + 1
}

// ç®€å†™æ–¹å¼
let pos = -1;
while ((pos = str3.indexOf(target, pos + 1)) != -1) {
	console.log(pos) // 0 2 6
}
```

#### lastIndexOf

str.lastIndexOf(substr,pos); ä»å­—ç¬¦ä¸²çš„æœ«å°¾å¼€å§‹æœç´¢åˆ°å¼€å¤´

#### includes

str.includes(substr,pos) æ ¹æ®strä¸­æ˜¯å¦åŒ…å«substræ¥è¿”å›true/false

```javascript
console.log('Widget with id'.includes('Widget')); // true
console.log('Hello World'.includes('isYes')); // false
// str.includes(substr,pos)ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰å‚æ•°ï¼šå¼€å§‹ä½ç½®çš„èµ·å§‹ä½ç½®
console.log('Midget'.includes('id')); // true
console.log('Midget'.includes('id', 3));// falseï¼Œç´¢å¼•ä¸º3ä¹‹åæ²¡æœ‰idå­—ç¬¦
```

#### startsWith()&endsWith()

str.startsWith å’Œ str.endsWith çš„åŠŸèƒ½ä¸å…¶åç§°æ‰€è¡¨ç¤ºçš„æ„æ€ç›¸åŒ

```javascript
console.log('Widget'.startsWith('Wid'));// true ä»¥Widå¼€å¤´
console.log('Widget'.endsWith('get'));// true ä»¥getç»“å°¾
```

### è·å–å­å­—ç¬¦ä¸²çš„ä¸‰ç§æ–¹å¼

è·å–å­å­—ç¬¦ä¸²æœ‰ä¸‰ç§æ–¹å¼ï¼š`substring`ï¼Œ`substr`å’Œ`slice`

#### slice()

str.slice(start [,end]) è¿”å›å­—ç¬¦ä¸²ä»startå¼€å§‹åˆ°(ä¸åŒ…æ‹¬)endçš„éƒ¨åˆ†

```javascript
let str = 'stringify';
console.log(str.slice(0, 5));// strin ä»ç´¢å¼•0å¼€å§‹ä¸åŒ…æ‹¬ç´¢å¼•ä¸º5çš„å­—ç¬¦
console.log(str.slice(0, 1)); // s ä»0åˆ°1ï¼Œä½†ä¸åŒ…æ‹¬1
// å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°,sliceä¼šä¸€ç›´è¿è¡Œåˆ°å­—ç¬¦ä¸²æœ«å°¾
console.log(str.slice(3));// ä»ç´¢å¼•ä¸º3åˆ°åˆ°æœ«å°¾
// start/endä¸ºè´Ÿæ•°çš„æ—¶å€™ï¼Œæ˜¯èµ·å§‹ä½ç½®ä»å­—ç¬¦ä¸²ç»“å°¾è®¡ç®—
console.log(str.slice(-2, -1)); // f ä»æœ«å°¾ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹åˆ°ç¬¬ä¸€ä¸ªå­—ç¬¦ç»“æŸä¸åŒ…å«ç¬¬ä¸€ä¸ª
```

#### substring()

str.substring(start [,end]) è¿”å›å­—ç¬¦ä¸²åœ¨startå’Œendä¹‹é—´çš„éƒ¨åˆ†ï¼Œä¸sliceå‡ ä¹ç›¸åŒ

ä¸sliceçš„å…·ä½“åŒºåˆ«ï¼š1. å®ƒå…è®¸startå¤§äºend 2.JSON.stringify ä¸æ”¯æŒè´Ÿæ•°

```javascript
console.log(str.substring(2, 6)); // ring ä»2å¼€å§‹åˆ°ä¸åŒ…æ‹¬ç´¢å¼•ä¸º6çš„å­—ç¬¦
console.log(str.substring(6, 2)); // ring
```

#### substr()

str.substr(start [,end]) è¿”å›å­—ç¬¦ä¸²ä»startå¼€å§‹çš„ç»™å®šlengthçš„éƒ¨åˆ†ï¼Œä¸ä¸Šé¢çš„æ–¹æ³•ä¸åŒçš„æ˜¯è¿™ä¸ªå…è®¸æˆ‘ä»¬æŒ‡å®šlengthè€Œä¸æ˜¯ç»“æŸä½ç½®

```javascript
console.log(str.substr(2, 4));// ring ä»ç´¢å¼•ä¸º2çš„ä½ç½®å¾€åè·å–4ä¸ªå­—ç¬¦
// ç¬¬ä¸€ä¸ªå‚æ•°å¦‚æœæ˜¯è´Ÿæ•°ï¼Œåˆ™ä»æœ«å°¾å¼€å§‹ç®—
console.log(str.substr(-2, 4)); // igni ä»æœ«å°¾ç¬¬2ä¸ªä½ç½®è·å–4ä¸ªå­—ç¬¦
```

### å­—ç¬¦ä¸²çš„æ¯”è¾ƒ

å­—ç¬¦ä¸²åœ¨æ¯”è¾ƒæ—¶å°å†™å­—æ¯æ€»æ˜¯å¤§äºå¤§å†™å­—æ¯

```javascript
console.log('a' > 'A');// true
console.log('Ã–sterreich' > 'Zealand'); // true
// ä½¿ç”¨str.codePointAt(pos) è·å–ä»£ç è¡¨ç¤ºçš„å­—ç¬¦
// ä¸åŒçš„å­—æ¯æœ‰ä¸åŒçš„ä»£ç 
console.log("z".codePointAt(0)); // 122
console.log("Z".codePointAt(0)); // 90
// String.fromCodePoint(code) é€šè¿‡codeåˆ›å»ºå­—ç¬¦
console.log(String.fromCharCode(90))// Z
// è¿˜å¯ä»¥ç”¨ \u åè·Ÿåå…­è¿›åˆ¶ä»£ç ï¼Œé€šè¿‡è¿™äº›ä»£ç æ·»åŠ  unicode å­—ç¬¦ï¼šåœ¨åå…­è¿›åˆ¶ç³»ç»Ÿä¸­ 90 ä¸º 5a
console.log('\u005a'); // Z

// è°ƒç”¨str.localeCompare(str2)ä¼šæ ¹æ®è¯­è¨€è§„åˆ™è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ•´æ•°èƒ½æŒ‡ç¤ºå­—ç¬¦ä¸²stråœ¨æ’åºé¡ºåºä¸­æ’åœ¨å­—ç¬¦ä¸²str2å‰é¢ã€åé¢è¿˜æ˜¯ç›¸åŒ
// å¦‚æœstræ’åœ¨str2å‰é¢ï¼Œåˆ™è¿”å›è´Ÿæ•°ã€å¦‚æœstræ’åœ¨str2åé¢ï¼Œåˆ™è¿”å›æ­£æ•°ï¼Œå¦‚æœå®ƒä»¬åœ¨ç›¸åŒä½ç½®ï¼Œåˆ™è¿”å›0
console.log('Ã–sterreich'.localeCompare('Zealand')); // -1
```

### å­—ç¬¦ä¸²éå†

#### for..of

```javascript
let str = "Apple"
// å¯ä»¥ä½¿ç”¨for..ofè¿›è¡Œéå†å­—ç¬¦ä¸²
for (let char of str) {
	console.log(char); // Apple
}
```

### å­—ç¬¦ä¸²æ’å€¼

æ¨¡æ¿å­—é¢é‡``æœ€å¸¸ç”¨çš„çš„ä¸€ä¸ªç‰¹æ€§æ˜¯æ”¯æŒå­—ç¬¦ä¸²æ’å€¼ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥åœ¨ä¸€ä¸ªè¿ç»­å®šä¹‰ä¸­æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªå€¼

```javascript
let value = 5;
let exponent = 'second'
let interpolateLiteral = `${value} to the ${exponent} power is ${value * value}`
console.log(interpolateLiteral); // 5 to the second power is 25
```

æ‰€æœ‰çš„æ’å€¼éƒ½ä¼šä½¿ç”¨`toString()`å¼ºåˆ¶è½¬å‹ä¸ºå­—ç¬¦ä¸²ï¼Œè€Œä¸”ä»»ä½•JavaScriptè¡¨è¾¾å¼éƒ½å¯ä»¥ç”¨äºæ’å€¼

- å°†è¡¨è¾¾å¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶ä¼šè°ƒç”¨`toString()`

```javascript
let foo = { toString: () => 'world' };
console.log(`Hello,${foo}!`) // Hello,world!
```

- åœ¨æ’å€¼è¡¨è¾¾å¼ä¸­å¯ä»¥è°ƒç”¨å‡½æ•°å’Œæ–¹æ³•

```javascript
function capitalize(word) {
	return `${word[0].toUpperCase()}${word.slice(1)}`
}
console.log(`${capitalize('hello')},${capitalize('world')}!`) // Hello,World!
```

- æ¨¡æ¿ä¹Ÿå¯ä»¥æ’å…¥è‡ªå·±ä¹‹å‰çš„å€¼

```javascript
let val = '';
function append() {
	val = `${val}abc`
	console.log(val);// abc
}
append()
```

## Boolean

### æ¦‚å¿µ

`Boolean`ç±»å‹ä»…åŒ…å«ä¸¤ä¸ªå€¼ï¼š`true`å’Œ`false`ï¼Œè¿™ç§ç±»å‹é€šå¸¸ç”¨äºè¡¨ç¤º`yes`æˆ–`no`çš„å€¼ï¼š`true`æ„å‘³ç€`"yes"`ï¼Œæ­£ç¡®ï¼Œ`false`æ„å‘³ç€`"no"`ï¼Œä¸æ­£ç¡®

### è½¬æ¢ä¸ºæ•°å€¼

```javascript
  let flag1 = true;
  let flag2 = false;
  console.log(flag1 + 1); // 2 trueåœ¨è¿ç®—çš„æ—¶å€™ä½œä¸º 1
  console.log(flag2 + 1); // 1 falseåœ¨è¿ç®—çš„æ—¶å€™ä½œä¸º 0
```

### ä½œæ¯”è¾ƒ

```javascript
  let str = 4 > 1;
  console.log(str) // true
```

æ³¨æ„ï¼šå¸ƒå°”å€¼å­—é¢é‡`true`å’Œ`false`æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œå› æ­¤`true`å’Œ`false`(åŠå…¶ä»–å¤§å°æ··å†™å½¢å¼)æ˜¯æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ï¼Œä½†ä¸æ˜¯å¸ƒå°”å€¼

### ä¸åŒç±»å‹ä¸å¸ƒå°”å€¼ä¹‹é—´çš„è½¬æ¢è§„åˆ™

| æ•°æ®ç±»å‹  | è½¬æ¢ä¸ºtrueçš„å€¼       | è½¬æ¢ä¸ºfalseçš„å€¼ |
| --------- | -------------------- | --------------- |
| Boolean   | true                 | false           |
| String    | éç©ºå­—ç¬¦ä¸²           | ""(ç©ºå­—ç¬¦ä¸²)    |
| Number    | éé›¶æ•°å€¼(åŒ…æ‹¬æ— ç©·å€¼) | 0ã€NaN          |
| Object    | ä»»æ„å¯¹è±¡             | null            |
| undefined | N/A(ä¸å­˜åœ¨)          | undefined       |

## nullå’Œundefined

### null

#### `null`å¯ä»¥è¢«è½¬æ¢ä¸ºæ•°å€¼ï¼Œ`undefined`ä¸èƒ½

```javascript
	console.log(Number(undefined)); // NaN
	console.log(Number(null)); // 0 nullå¯ä»¥è½¬ä¸ºæ•°å€¼
```

#### `null` è¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡æŒ‡é’ˆï¼Œ

å³è¯¥å¤„çš„å€¼ç°åœ¨ä¸ºç©ºï¼ŒJavaScriptä¸­`null`ä»…ä»£è¡¨"æ— "ã€"ç©º"æˆ–"å€¼æœªçŸ¥"çš„ç‰¹æ®Šå€¼

```javascript
	let space = null;
	console.log(space + 'karim'); // nullalan  ç©ºå€¼åŠ å­—ç¬¦ä¸²ä¼šè¿›è¡Œä¸²è”
	console.log(space + 1); // 1 ä¼šè½¬æ¢ä¸º0
```

åœ¨å®šä¹‰å°†æ¥è¦ä¿å­˜å¯¹è±¡å€¼çš„å˜é‡æ—¶ï¼Œå»ºè®®ä½¿ç”¨`null`æ¥åˆå§‹åŒ–ï¼Œä¸è¦ä½¿ç”¨å…¶ä»–å€¼ã€‚

è¿™æ ·åªè¦æ£€æŸ¥è¿™ä¸ªå˜é‡çš„å€¼æ˜¯ä¸æ˜¯`null`å°±å¯ä»¥çŸ¥é“è¿™ä¸ªå˜é‡æ˜¯å¦åœ¨åæ¥è¢«é‡æ–°èµ‹äºˆäº†ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚

### undefined

```
undefined`è¡¨ç¤º"æœªå®šä¹‰çš„ï¼Œæœªè¢«èµ‹å€¼"ï¼Œå¦‚æœä¸€ä¸ªå˜é‡å£°æ˜äº†ï¼Œä½†æ˜¯æœªèµ‹å€¼ï¼Œé‚£ä¹ˆå€¼ä¸º`undefined
	let i;
	console.log(i); // undefined
```

#### è°ƒç”¨å‡½æ•°æ—¶ï¼Œåº”è¯¥æä¾›çš„å‚æ•°æ²¡æœ‰æä¾›ï¼Œè¯¥å‚æ•°ç­‰äº`undefined`

```javascript
	function f(x) {
		return x;
	}
```

#### `undefined`å’Œæ•°å­—ç›¸åŠ  æœ€åçš„ç»“æœæ˜¯ `NaN`

```javascript
	let str1 = undefined;
	console.log(str1 + 1); // NaN
```

#### å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™è¿”å›`undefined`

```javascript
	function f1() { }
	console.log(f1());// undefined
	console.log(f()); // undefined
```

#### å¯¹è±¡çš„å±æ€§æ²¡æœ‰èµ‹å€¼ï¼Œè¿”å›`undefined`

```javascript
	let o = new Object();
	console.log(o.p); // undefined
```

æ³¨æ„ï¼šåŒ…å«`undefined`å€¼çš„å˜é‡è·Ÿæœªå®šä¹‰å˜é‡æ˜¯ç”±åŒºåˆ«çš„

### ä¸»è¦ç”¨é€”

æ°¸è¿œä¸å¿…æ˜¾å¼çš„å°†å˜é‡å€¼è®¾ç½®ä¸º`undefined`ï¼Œä½†æ˜¯`null`åœ¨ä»»ä½•æ—¶å€™ï¼Œåªè¦å˜é‡è¦ä¿å­˜å¯¹è±¡ï¼Œè€Œå½“æ—¶åˆæ²¡æœ‰é‚£ä¸ªå¯¹è±¡å¯ä¿å­˜ï¼Œå°±è¦ç”¨`null`æ¥å¡«å……è¯¥å˜é‡ã€‚

è¿™æ ·å°±å¯ä»¥ä¿æŒ`null`æ˜¯ç©ºå¯¹è±¡æŒ‡é’ˆçš„è¯­ä¹‰ï¼Œå¹¶è¿›ä¸€æ­¥å°†å…¶ä¸`undefined`åŒºåˆ†å¼€æ¥

## Symbol

### æ¦‚è¿°

#### ES6å¼•å…¥Symbolçš„åŸå› 

ES5 çš„å¯¹è±¡å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“é€ æˆå±æ€§åçš„å†²çªã€‚æ¯”å¦‚ï¼Œä½ ä½¿ç”¨äº†ä¸€ä¸ªä»–äººæä¾›çš„å¯¹è±¡ï¼Œä½†åˆæƒ³ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„æ–¹æ³•ï¼ˆmixin æ¨¡å¼ï¼‰ï¼Œæ–°æ–¹æ³•çš„åå­—å°±æœ‰å¯èƒ½ä¸ç°æœ‰æ–¹æ³•äº§ç”Ÿå†²çªã€‚å¦‚æœæœ‰ä¸€ç§æœºåˆ¶ï¼Œä¿è¯æ¯ä¸ªå±æ€§çš„åå­—éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„å°±å¥½äº†ï¼Œè¿™æ ·å°±ä»æ ¹æœ¬ä¸Šé˜²æ­¢å±æ€§åçš„å†²çªã€‚

#### Symbolè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼

Symbol å€¼é€šè¿‡`Symbol()`å‡½æ•°ç”Ÿæˆã€‚è¿™å°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„å±æ€§åç°åœ¨å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯åŸæ¥å°±æœ‰çš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§å°±æ˜¯æ–°å¢çš„ Symbol ç±»å‹ã€‚å‡¡æ˜¯å±æ€§åå±äº Symbol ç±»å‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸å…¶ä»–å±æ€§åäº§ç”Ÿå†²çª

```javascript
let s = Symbol()
console.log(typeof s) // symbol
```

æ³¨æ„ï¼š`Symbol`å‡½æ•°ä¸èƒ½ä½¿ç”¨`new` å¦åˆ™ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºç”Ÿæˆçš„ Symbol æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äº Symbol å€¼ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æ·»åŠ å±æ€§ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ä¸€ç§ç±»ä¼¼äºå­—ç¬¦ä¸²çš„æ•°æ®ç±»å‹ã€‚



`Symbol`å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹ Symbol å®ä¾‹çš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼Œæˆ–è€…è½¬ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œæ¯”è¾ƒå®¹æ˜“åŒºåˆ†ã€‚

```javascript
let s1 = Symbol('foo')
let s2 = Symbol('bar')
console.log(s1) // Symbol(foo)
console.log(s2) // Symbol(bar)
s1.toString()
console.log(s1) // Symbol(foo)
```

å¦‚æœ Symbol çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„`toString`æ–¹æ³•ï¼Œå°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åæ‰ç”Ÿæˆä¸€ä¸ª Symbol å€¼ã€‚

```javascript
const obj = {
 toString() {
  return 'abc'
 }
}
const sym = Symbol(obj)
console.log(sym) // Symbol(abc)
```

æ³¨æ„ï¼š`Symbol`å‡½æ•°çš„å‚æ•°åªæ˜¯è¡¨ç¤ºå¯¹å½“å‰ Symbol å€¼çš„æè¿°ï¼Œå› æ­¤ç›¸åŒå‚æ•°çš„`Symbol`å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚

```javascript
// æ²¡æœ‰å‚æ•°çš„æƒ…å†µ
let s1 = Symbol()
let s2 = Symbol()
console.log(s1 === s2) // false
// æœ‰å‚æ•°çš„æƒ…å†µ
let s3 = Symbol('foo')
let s4 = Symbol('foo')
console.log(s3 === s4) // false
```

Symbolä¸èƒ½ä¸å…¶ä»–ç±»å‹çš„å€¼è¿›è¡Œè¿ç®—ï¼Œä½†æ˜¯Symbolå¯ä»¥æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²

```javascript
let sym = Symbol('my symbol')
console.log(typeof (String(sym))) // string Symbol(my symbol)
console.log(typeof (sym.toString())) // string Symbol(my symbol)
```

Symoblå¯ä»¥è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œä½†æ˜¯ä¸èƒ½è½¬æ¢ä¸ºæ•°å€¼

```javascript
let sym = Symbol()
console.log(Boolean(sym)) // true
console.log(!sym) // false
console.log(Number(sym)) // æŠ¥é”™
```

### Symbol.prototype.description

è¿”å›Symoblçš„æè¿°ä¿¡æ¯

```javascript
const sym = Symbol('foo')
console.log(sym.description) // foo
```

è¯»å–è¿™ä¸ªæè¿°éœ€è¦å°† Symbol æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²

```javascript
const sym = Symbol('foo');
console.log(String(sym)) // Symbol(foo)
console.log(sym.toString()) // Symbol(foo)
```

[ES2019](https://github.com/tc39/proposal-Symbol-description) æä¾›äº†ä¸€ä¸ªå®ä¾‹å±æ€§`description`ï¼Œç›´æ¥è¿”å› Symbol çš„æè¿°ã€‚

```javascript
const sym = Symbol('foo');
console.log(sym.description )// foo
```

### ä½œä¸ºå±æ€§åçš„Symbol

ç”±äºæ¯ä¸€ä¸ª Symbol å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œè¿™æ„å‘³ç€ Symbol å€¼å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œç”¨äºå¯¹è±¡çš„å±æ€§åï¼Œå°±èƒ½ä¿è¯ä¸ä¼šå‡ºç°åŒåçš„å±æ€§ã€‚

è¿™å¯¹äºä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªæ¨¡å—æ„æˆçš„æƒ…å†µéå¸¸æœ‰ç”¨ï¼Œèƒ½é˜²æ­¢æŸä¸€ä¸ªé”®è¢«ä¸å°å¿ƒæ”¹å†™æˆ–è¦†ç›–ã€‚

```javascript
let mySymbol = Symbol()
// ç¬¬ä¸€ç§å†™æ³•
let a1 = []
a1[mySymbol] = 'Hello'
// ç¬¬äºŒç§å†™æ³•
let a2 = {
 [mySymbol]: 'Hello'
}
// ç¬¬ä¸‰ç§å†™æ³•
let a3 = {}
Object.defineProperty(a3, mySymbol, { value: 'Hello' })

console.log(a1[mySymbol]) // Hello
console.log(a2[mySymbol]) // Hello
console.log(a3[mySymbol]) // Hello
```

æ³¨æ„ï¼šSymbolå€¼ä½œä¸ºå¯¹è±¡å±æ€§åæ—¶ï¼Œä¸èƒ½ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œå› ä¸ºç‚¹è¿ç®—ç¬¦åé¢æ€»æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¸ä¼šè¯»å–`mySymbol`ä½œä¸ºæ ‡è¯†ç¬¦æ‰€æŒ‡ä»£çš„é‚£ä¸ªå€¼

```javascript
const mySymbol = Symbol();
const a = {};
a.mySymbol = 'Hello!';
console.log(a[mySymbol]) // undefined
console.log(a['mySymbol']) // Hello!
```

åŒç†ï¼Œåœ¨å¯¹è±¡çš„å†…éƒ¨ï¼Œä½¿ç”¨ Symbol å€¼å®šä¹‰å±æ€§æ—¶ï¼ŒSymbol å€¼å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å·ä¹‹ä¸­ã€‚

```javascript
let s = Symbol();

let obj = {
	[s]: function(arg) {
		//	...
	}
};
console.log(obj[s](123));
```

å¦‚æœ`s`ä¸æ”¾åœ¨æ–¹æ‹¬å·ä¸­ï¼Œè¯¥å±æ€§çš„é”®åå°±æ˜¯å­—ç¬¦ä¸²`s`ï¼Œè€Œä¸æ˜¯`s`æ‰€ä»£è¡¨çš„é‚£ä¸ª Symbol å€¼ã€‚

 

Symbol ç±»å‹è¿˜å¯ä»¥ç”¨äºå®šä¹‰ä¸€ç»„å¸¸é‡ï¼Œä¿è¯è¿™ç»„å¸¸é‡çš„å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ã€‚ 

```javascript
const log = {};
log.levels = {
  DEBUG: Symbol('debug'),
  INFO: Symbol('info'),
  WARN: Symbol('warn')
};
console.log(log.levels.DEBUG, 'debug message');
console.log(log.levels.INFO, 'info message');
```

å¸¸é‡ä½¿ç”¨ Symbol å€¼æœ€å¤§çš„å¥½å¤„ï¼Œå°±æ˜¯å…¶ä»–ä»»ä½•å€¼éƒ½ä¸å¯èƒ½æœ‰ç›¸åŒçš„å€¼äº†ï¼Œå› æ­¤å¯ä»¥ä¿è¯ä¸Šé¢çš„`switch`è¯­å¥ä¼šæŒ‰è®¾è®¡çš„æ–¹å¼å·¥ä½œ



Symbol å€¼ä½œä¸ºå±æ€§åæ—¶ï¼Œè¯¥å±æ€§è¿˜æ˜¯å…¬å¼€å±æ€§ï¼Œä¸æ˜¯ç§æœ‰å±æ€§ã€‚

### æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²

é­”æœ¯å­—ç¬¦ä¸²æŒ‡çš„æ˜¯ï¼Œåœ¨ä»£ç ä¹‹ä¸­å¤šæ¬¡å‡ºç°ã€ä¸ä»£ç å½¢æˆå¼ºè€¦åˆçš„æŸä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å€¼ã€‚é£æ ¼è‰¯å¥½çš„ä»£ç ï¼Œåº”è¯¥å°½é‡æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²ï¼Œæ”¹ç”±å«ä¹‰æ¸…æ™°çš„å˜é‡ä»£æ›¿

```javascript
function getArea(shape, options) {
	let area = 0;
	
	switch (shape) {
		case 'Triangle': // é­”æœ¯å­—ç¬¦ä¸²
			area = .5 * options.width * options.height;
			break;
		/* ... more code ... */
	}
	return area;
}
let a = getArea('Triangle', {
	width: 100,
	height: 100
}); // é­”æœ¯å­—ç¬¦ä¸²
console.log(a) // 5000
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦ä¸²`Triangle`å°±æ˜¯ä¸€ä¸ªé­”æœ¯å­—ç¬¦ä¸²ã€‚å®ƒå¤šæ¬¡å‡ºç°ï¼Œä¸ä»£ç å½¢æˆâ€œå¼ºè€¦åˆâ€ï¼Œä¸åˆ©äºå°†æ¥çš„ä¿®æ”¹å’Œç»´æŠ¤ã€‚

å¸¸ç”¨çš„æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠå®ƒå†™æˆä¸€ä¸ªå˜é‡

```javascript
let Triangle = {
	triangle: 'Triangle'
}
function getArea(shape, options) {
	let area = 0;
	
	switch (shape) {
		case Triangle.triangle: // é­”æœ¯å­—ç¬¦ä¸²
			area = .5 * options.width * options.height;
			break;
		/* ... more code ... */
	}
	return area;
}
let a = getArea(Triangle.triangle, {
	width: 100,
	height: 100
}); // é­”æœ¯å­—ç¬¦ä¸²
console.log(a) // 5000
```

ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬æŠŠ`Triangle`å†™æˆ`shapeType`å¯¹è±¡çš„`triangle`å±æ€§ï¼Œè¿™æ ·å°±æ¶ˆé™¤äº†å¼ºè€¦åˆã€‚

å¦‚æœä»”ç»†åˆ†æï¼Œå¯ä»¥å‘ç°`shapeType.triangle`ç­‰äºå“ªä¸ªå€¼å¹¶ä¸é‡è¦ï¼Œåªè¦ç¡®ä¿ä¸ä¼šè·Ÿå…¶ä»–`shapeType`å±æ€§çš„å€¼å†²çªå³å¯ã€‚å› æ­¤ï¼Œè¿™é‡Œå°±å¾ˆé€‚åˆæ”¹ç”¨ Symbol å€¼

### å±æ€§åçš„éå†

Symbol ä½œä¸ºå±æ€§åï¼Œéå†å¯¹è±¡çš„æ—¶å€™ï¼Œè¯¥å±æ€§ä¸ä¼šå‡ºç°åœ¨`for...in`ã€`for...of`å¾ªç¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«`Object.keys()`ã€`Object.getOwnPropertyNames()`ã€`JSON.stringify()`è¿”å›ã€‚

å®ƒä¹Ÿä¸æ˜¯ç§æœ‰å±æ€§ï¼Œæœ‰ä¸€ä¸ª`Object.getOwnPropertySymbols()`æ–¹æ³•ï¼Œå¯ä»¥è·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰ Symbol å±æ€§åã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å½“å‰å¯¹è±¡çš„æ‰€æœ‰ç”¨ä½œå±æ€§åçš„ Symbol å€¼ã€‚

```javascript
const obj = {}
let a = Symbol('a')
let b = Symbol('b')
obj[a] = 'Hello'
obj[b] = 'World'
const objectSymbols = Object.getOwnPropertySymbols(obj)
console.log(objectSymbols) // [ Symbol(a), Symbol(b) ]
```

è·å–æ‰€æœ‰ Symbol å±æ€§åã€‚

`Reflect.ownKeys()`æ–¹æ³•å¯ä»¥è¿”å›æ‰€æœ‰ç±»å‹çš„é”®åï¼ŒåŒ…æ‹¬å¸¸è§„é”®åå’Œ Symbol é”®åã€‚

```javascript
let obj = {
 [Symbol('my_key')]: 1,
 enum: 2,
 nonEnum: 3
}
console.log(Reflect.ownKeys(obj)) // [ 'enum', 'nonEnum', Symbol(my_key) ]
```

ç”±äºä»¥ Symbol å€¼ä½œä¸ºé”®åï¼Œä¸ä¼šè¢«å¸¸è§„æ–¹æ³•éå†å¾—åˆ°ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œä¸ºå¯¹è±¡å®šä¹‰ä¸€äº›éç§æœ‰çš„ã€ä½†åˆå¸Œæœ›åªç”¨äºå†…éƒ¨çš„æ–¹æ³•

### Symbol.for()ï¼ŒSymbol.keyFor()

`Symbol.for()`å¯ä»¥é‡æ–°ä½¿ç”¨åŒä¸€ä¸ªSymbol()å€¼ï¼Œå®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„ Symbol å€¼ã€‚å¦‚æœæœ‰ï¼Œå°±è¿”å›è¿™ä¸ª Symbol å€¼ï¼Œå¦åˆ™å°±æ–°å»ºä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„ Symbol å€¼ï¼Œå¹¶å°†å…¶æ³¨å†Œåˆ°å…¨å±€ã€‚

```javascript
let s1 = Symbol.for('foo');
let s2 = Symbol.for('foo');

console.log(s1 === s2) // true
```

`s1`å’Œ`s2`éƒ½æ˜¯ Symbol å€¼ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯ç”±åŒæ ·å‚æ•°çš„`Symbol.for`æ–¹æ³•ç”Ÿæˆçš„ï¼Œæ‰€ä»¥å®é™…ä¸Šæ˜¯åŒä¸€ä¸ªå€¼

`Symbol.for()`ä¸`Symbol()`è¿™ä¸¤ç§å†™æ³•ï¼Œéƒ½ä¼šç”Ÿæˆæ–°çš„ Symbolã€‚å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼Œå‰è€…ä¼šè¢«ç™»è®°åœ¨å…¨å±€ç¯å¢ƒä¸­ä¾›æœç´¢ï¼Œåè€…ä¸ä¼šã€‚`Symbol.for()`ä¸ä¼šæ¯æ¬¡è°ƒç”¨å°±è¿”å›ä¸€ä¸ªæ–°çš„ Symbol ç±»å‹çš„å€¼ï¼Œè€Œæ˜¯ä¼šå…ˆæ£€æŸ¥ç»™å®šçš„`key`æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨æ‰ä¼šæ–°å»ºä¸€ä¸ªå€¼ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ è°ƒç”¨`Symbol.for("cat")`30 æ¬¡ï¼Œæ¯æ¬¡éƒ½ä¼šè¿”å›åŒä¸€ä¸ª Symbol å€¼ï¼Œä½†æ˜¯è°ƒç”¨`Symbol("cat")`30 æ¬¡ï¼Œä¼šè¿”å› 30 ä¸ªä¸åŒçš„ Symbol å€¼

```javascript
console.log(Symbol.for("bar") === Symbol.for("bar")) // true
console.log(Symbol("bar") === Symbol("bar")) // false
Symbol.keyFor()`æ–¹æ³•è¿”å›ä¸€ä¸ªå·²ç™»è®°çš„ Symbol ç±»å‹å€¼çš„`key
let s1 = Symbol.for("foo");
console.log(Symbol.keyFor(s1)) // foo
let s2 = Symbol("foo");
console.log(Symbol.keyFor(s2)) // undefined
```

æ³¨æ„ï¼š`Symbol.for()`ä¸º Symbol å€¼ç™»è®°çš„åå­—ï¼Œæ˜¯å…¨å±€ç¯å¢ƒçš„ï¼Œä¸ç®¡æœ‰æ²¡æœ‰åœ¨å…¨å±€ç¯å¢ƒè¿è¡Œã€‚

```javascript
function foo() {
	return Symbol.for('bar');
}

const x = foo();
const y = Symbol.for('bar');
console.log(x === y); // true
```

`Symbol.for('bar')`æ˜¯å‡½æ•°å†…éƒ¨è¿è¡Œçš„ï¼Œä½†æ˜¯ç”Ÿæˆçš„ Symbol å€¼æ˜¯ç™»è®°åœ¨å…¨å±€ç¯å¢ƒçš„ã€‚æ‰€ä»¥ï¼Œç¬¬äºŒæ¬¡è¿è¡Œ`Symbol.for('bar')`å¯ä»¥å–åˆ°è¿™ä¸ª Symbol å€¼ã€‚

### æ¨¡å—çš„ Singleton æ¨¡å¼

Singleton æ¨¡å¼æŒ‡çš„æ˜¯è°ƒç”¨ä¸€ä¸ªç±»ï¼Œä»»ä½•æ—¶å€™è¿”å›çš„éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹

### å†…ç½®çš„ Symbol å€¼

é™¤äº†å®šä¹‰è‡ªå·±ä½¿ç”¨çš„ Symbol å€¼ä»¥å¤–ï¼ŒES6 è¿˜æä¾›äº† 11 ä¸ªå†…ç½®çš„ Symbol å€¼ï¼ŒæŒ‡å‘è¯­è¨€å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•

#### Symbol.hasInstance

å¯¹è±¡çš„`Symbol.hasInstance`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ã€‚å½“å…¶ä»–å¯¹è±¡ä½¿ç”¨`instanceof`è¿ç®—ç¬¦ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºè¯¥å¯¹è±¡çš„å®ä¾‹æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚æ¯”å¦‚ï¼Œ`foo instanceof Foo`åœ¨è¯­è¨€å†…éƒ¨ï¼Œå®é™…è°ƒç”¨çš„æ˜¯`Foo[Symbol.hasInstance](foo)`

```javascript
class MyClass {
	[Symbol.hasInstance](foo) {
		return foo instanceof Array;
	}
}
console.log([1, 2, 3] instanceof new MyClass()) // true
```

`MyClass`æ˜¯ä¸€ä¸ªç±»ï¼Œ`new MyClass()`ä¼šè¿”å›ä¸€ä¸ªå®ä¾‹ã€‚è¯¥å®ä¾‹çš„`Symbol.hasInstance`æ–¹æ³•ï¼Œä¼šåœ¨è¿›è¡Œ`instanceof`è¿ç®—æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œåˆ¤æ–­å·¦ä¾§çš„è¿ç®—å­æ˜¯å¦ä¸º`Array`çš„å®ä¾‹ã€‚

#### Symbol.isConcatSpreadable

å¯¹è±¡çš„`Symbol.isConcatSpreadable`å±æ€§ç­‰äºä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ç”¨äº`Array.prototype.concat()`æ—¶ï¼Œæ˜¯å¦å¯ä»¥å±•å¼€

```javascript
let arr1 = ['c', 'd'];
console.log(['a', 'b'].concat(arr1, 'e')) // ['a', 'b', 'c', 'd', 'e']
console.log(arr1[Symbol.isConcatSpreadable]) // undefined
let arr2 = ['c', 'd'];
arr2[Symbol.isConcatSpreadable] = false; // ä¸å±•å¼€
console.log(['a', 'b'].concat(arr2, 'e'))
/*	[
 'a',
 'b',
 [ 'c', 'd', [Symbol(Symbol.isConcatSpreadable)]: false ],
 'e'
 ]*/
```

æ•°ç»„çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯ä»¥å±•å¼€ï¼Œ`Symbol.isConcatSpreadable`é»˜è®¤ç­‰äº`undefined`ã€‚è¯¥å±æ€§ç­‰äº`true`æ—¶ï¼Œä¹Ÿæœ‰å±•å¼€çš„æ•ˆæœ

```javascript
let obj = {length: 2, 0: 'c', 1: 'd'};
console.log(['a', 'b'].concat(obj, 'e')) // [ 'a', 'b', { '0': 'c', '1': 'd', length: 2 }, 'e' ]

obj[Symbol.isConcatSpreadable] = true;
console.log(['a', 'b'].concat(obj, 'e')) // ['a', 'b', 'c', 'd', 'e']
```

#### Symbol.species

å¯¹è±¡çš„`Symbol.species`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚åˆ›å»ºè¡ç”Ÿå¯¹è±¡æ—¶ï¼Œä¼šä½¿ç”¨è¯¥å±æ€§ã€‚

```javascript
class MyArray extends Array {
}

const a = new MyArray(1, 2, 3);
const b = a.map(x => x);
const c = a.filter(x => x > 1);

b instanceof MyArray // true
c instanceof MyArray // true
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå­ç±»`MyArray`ç»§æ‰¿äº†çˆ¶ç±»`Array`ï¼Œ`a`æ˜¯`MyArray`çš„å®ä¾‹ï¼Œ`b`å’Œ`c`æ˜¯`a`çš„è¡ç”Ÿå¯¹è±¡ã€‚ä½ å¯èƒ½ä¼šè®¤ä¸ºï¼Œ`b`å’Œ`c`éƒ½æ˜¯è°ƒç”¨æ•°ç»„æ–¹æ³•ç”Ÿæˆçš„ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯æ•°ç»„ï¼ˆ`Array`çš„å®ä¾‹ï¼‰ï¼Œä½†å®é™…ä¸Šå®ƒä»¬ä¹Ÿæ˜¯`MyArray`çš„å®ä¾‹ã€‚

`Symbol.species`å±æ€§å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œæä¾›çš„ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º`MyArray`è®¾ç½®`Symbol.species`å±æ€§ã€‚

```javascript
class MyArray extends Array {
  static get [Symbol.species]() { return Array; }
}
```

ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºå®šä¹‰äº†`Symbol.species`å±æ€§ï¼Œåˆ›å»ºè¡ç”Ÿå¯¹è±¡æ—¶å°±ä¼šä½¿ç”¨è¿™ä¸ªå±æ€§è¿”å›çš„å‡½æ•°ï¼Œä½œä¸ºæ„é€ å‡½æ•°ã€‚è¿™ä¸ªä¾‹å­ä¹Ÿè¯´æ˜ï¼Œå®šä¹‰`Symbol.species`å±æ€§è¦é‡‡ç”¨`get`å–å€¼å™¨ã€‚é»˜è®¤çš„`Symbol.species`å±æ€§ç­‰åŒäºä¸‹é¢çš„å†™æ³•ã€‚

```javascript
static get [Symbol.species]() {
  return this;
}
```

ç°åœ¨ï¼Œå†æ¥çœ‹å‰é¢çš„ä¾‹å­ã€‚

```javascript
class MyArray extends Array {
  static get [Symbol.species]() { return Array; }
}

const a = new MyArray();
const b = a.map(x => x);

b instanceof MyArray // false
b instanceof Array // true
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ`a.map(x => x)`ç”Ÿæˆçš„è¡ç”Ÿå¯¹è±¡ï¼Œå°±ä¸æ˜¯`MyArray`çš„å®ä¾‹ï¼Œè€Œç›´æ¥å°±æ˜¯`Array`çš„å®ä¾‹ã€‚

`Symbol.species`çš„ä½œç”¨åœ¨äºï¼Œå®ä¾‹å¯¹è±¡åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦å†æ¬¡è°ƒç”¨è‡ªèº«çš„æ„é€ å‡½æ•°æ—¶ï¼Œä¼šè°ƒç”¨è¯¥å±æ€§æŒ‡å®šçš„æ„é€ å‡½æ•°ã€‚å®ƒä¸»è¦çš„ç”¨é€”æ˜¯ï¼Œæœ‰äº›ç±»åº“æ˜¯åœ¨åŸºç±»çš„åŸºç¡€ä¸Šä¿®æ”¹çš„ï¼Œé‚£ä¹ˆå­ç±»ä½¿ç”¨ç»§æ‰¿çš„æ–¹æ³•æ—¶ï¼Œä½œè€…å¯èƒ½å¸Œæœ›è¿”å›åŸºç±»çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯å­ç±»çš„å®ä¾‹

#### Symbol.match

å¯¹è±¡çš„`Symbol.match`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªå‡½æ•°ã€‚å½“æ‰§è¡Œ`str.match(myObject)`æ—¶ï¼Œå¦‚æœè¯¥å±æ€§å­˜åœ¨ï¼Œä¼šè°ƒç”¨å®ƒï¼Œè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼

```javascript
String.prototype.match(regexp)
// ç­‰åŒäº
regexp[Symbol.match](this)

class MyMatcher {
  [Symbol.match](string) {
    return 'hello world'.indexOf(string);
  }
}

'e'.match(new MyMatcher()) // 1
```

#### Symbol.replace 

å¯¹è±¡çš„`Symbol.replace`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«`String.prototype.replace`æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚

```javascript
String.prototype.replace(searchValue, replaceValue)
// ç­‰åŒäº
searchValue[Symbol.replace](this, replaceValue)
```

ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚

```javascript
const x = {};
x[Symbol.replace] = (...s) => console.log(s);

'Hello'.replace(x, 'World') // ["Hello", "World"]
```

`Symbol.replace`æ–¹æ³•ä¼šæ”¶åˆ°ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯`replace`æ–¹æ³•æ­£åœ¨ä½œç”¨çš„å¯¹è±¡ï¼Œä¸Šé¢ä¾‹å­æ˜¯`Hello`ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ›¿æ¢åçš„å€¼ï¼Œä¸Šé¢ä¾‹å­æ˜¯`World`ã€‚

#### Symbol.search

å¯¹è±¡çš„`Symbol.search`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«`String.prototype.search`æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚

```javascript
String.prototype.search(regexp)
// ç­‰åŒäº
regexp[Symbol.search](this)

class MySearch {
  constructor(value) {
    this.value = value;
  }
  [Symbol.search](string) {
    return string.indexOf(this.value);
  }
}
'foobar'.search(new MySearch('foo')) // 0
```

#### Symbol.split

å¯¹è±¡çš„`Symbol.split`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«`String.prototype.split`æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚

```javascript
String.prototype.split(separator, limit)
// ç­‰åŒäº
separator[Symbol.split](this, limit)
```

ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚

```javascript
class MySplitter {
  constructor(value) {
    this.value = value;
  }
  [Symbol.split](string) {
    let index = string.indexOf(this.value);
    if (index === -1) {
      return string;
    }
    return [
      string.substr(0, index),
      string.substr(index + this.value.length)
    ];
  }
}

'foobar'.split(new MySplitter('foo'))
// ['', 'bar']

'foobar'.split(new MySplitter('bar'))
// ['foo', '']

'foobar'.split(new MySplitter('baz'))
// 'foobar'
```

ä¸Šé¢æ–¹æ³•ä½¿ç”¨`Symbol.split`æ–¹æ³•ï¼Œé‡æ–°å®šä¹‰äº†å­—ç¬¦ä¸²å¯¹è±¡çš„`split`æ–¹æ³•çš„è¡Œä¸ºï¼Œ

#### Symbol.iterator

å¯¹è±¡çš„`Symbol.iterator`å±æ€§ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨æ–¹æ³•ã€‚

```javascript
const myIterable = {};
myIterable[Symbol.iterator] = function* () {
  yield 1;
  yield 2;
  yield 3;
};

[...myIterable] // [1, 2, 3]
```

å¯¹è±¡è¿›è¡Œ`for...of`å¾ªç¯æ—¶ï¼Œä¼šè°ƒç”¨`Symbol.iterator`æ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨ï¼Œè¯¦ç»†ä»‹ç»å‚è§ã€ŠIterator å’Œ for...of å¾ªç¯ã€‹ä¸€ç« ã€‚

```javascript
class Collection {
  *[Symbol.iterator]() {
    let i = 0;
    while(this[i] !== undefined) {
      yield this[i];
      ++i;
    }
  }
}

let myCollection = new Collection();
myCollection[0] = 1;
myCollection[1] = 2;

for(let value of myCollection) {
  console.log(value);
}
// 1
// 2
```

#### Symbol.toPrimitive

å¯¹è±¡çš„`Symbol.toPrimitive`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚è¯¥å¯¹è±¡è¢«è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡å¯¹åº”çš„åŸå§‹ç±»å‹å€¼ã€‚

`Symbol.toPrimitive`è¢«è°ƒç”¨æ—¶ï¼Œä¼šæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¡¨ç¤ºå½“å‰è¿ç®—çš„æ¨¡å¼ï¼Œä¸€å…±æœ‰ä¸‰ç§æ¨¡å¼ã€‚

- Numberï¼šè¯¥åœºåˆéœ€è¦è½¬æˆæ•°å€¼
- Stringï¼šè¯¥åœºåˆéœ€è¦è½¬æˆå­—ç¬¦ä¸²
- Defaultï¼šè¯¥åœºåˆå¯ä»¥è½¬æˆæ•°å€¼ï¼Œä¹Ÿå¯ä»¥è½¬æˆå­—ç¬¦ä¸²

```javascript
let obj = {
	[Symbol.toPrimitive](hint) {
		switch (hint) {
			case 'number':
				return 123;
			case 'string':
				return 'str';
			case 'default':
				return 'default';
			default:
				throw new Error();
		}
	}
};

console.log(2 * obj) // 246
console.log(3 + obj) // '3default'
console.log(obj == 'default') // true
console.log(String(obj)) // 'str'
```

#### Symbol.toStringTag

å¯¹è±¡çš„`Symbol.toStringTag`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚åœ¨è¯¥å¯¹è±¡ä¸Šé¢è°ƒç”¨`Object.prototype.toString`æ–¹æ³•æ—¶ï¼Œå¦‚æœè¿™ä¸ªå±æ€§å­˜åœ¨ï¼Œå®ƒçš„è¿”å›å€¼ä¼šå‡ºç°åœ¨`toString`æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ä¹‹ä¸­ï¼Œè¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥å®šåˆ¶`[object Object]`æˆ–`[object Array]`ä¸­`object`åé¢çš„é‚£ä¸ªå­—ç¬¦ä¸²ã€‚

```javascript
// ä¾‹ä¸€
({[Symbol.toStringTag]: 'Foo'}.toString())
// "[object Foo]"

// ä¾‹äºŒ
class Collection {
  get [Symbol.toStringTag]() {
    return 'xxx';
  }
}
let x = new Collection();
Object.prototype.toString.call(x) // "[object xxx]"
```

ES6 æ–°å¢å†…ç½®å¯¹è±¡çš„`Symbol.toStringTag`å±æ€§å€¼å¦‚ä¸‹ã€‚

- `JSON[Symbol.toStringTag]`ï¼š'JSON'
- `Math[Symbol.toStringTag]`ï¼š'Math'
- Module å¯¹è±¡`M[Symbol.toStringTag]`ï¼š'Module'
- `ArrayBuffer.prototype[Symbol.toStringTag]`ï¼š'ArrayBuffer'
- `DataView.prototype[Symbol.toStringTag]`ï¼š'DataView'
- `Map.prototype[Symbol.toStringTag]`ï¼š'Map'
- `Promise.prototype[Symbol.toStringTag]`ï¼š'Promise'
- `Set.prototype[Symbol.toStringTag]`ï¼š'Set'
- `%TypedArray%.prototype[Symbol.toStringTag]`ï¼š'Uint8Array'ç­‰
- `WeakMap.prototype[Symbol.toStringTag]`ï¼š'WeakMap'
- `WeakSet.prototype[Symbol.toStringTag]`ï¼š'WeakSet'
- `%MapIteratorPrototype%[Symbol.toStringTag]`ï¼š'Map Iterator'
- `%SetIteratorPrototype%[Symbol.toStringTag]`ï¼š'Set Iterator'
- `%StringIteratorPrototype%[Symbol.toStringTag]`ï¼š'String Iterator'
- `Symbol.prototype[Symbol.toStringTag]`ï¼š'Symbol'
- `Generator.prototype[Symbol.toStringTag]`ï¼š'Generator'
- `GeneratorFunction.prototype[Symbol.toStringTag]`ï¼š'GeneratorFunction'

#### Symbol.unscopables

å¯¹è±¡çš„`Symbol.unscopables`å±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¯¥å¯¹è±¡æŒ‡å®šäº†ä½¿ç”¨`with`å…³é”®å­—æ—¶ï¼Œå“ªäº›å±æ€§ä¼šè¢«`with`ç¯å¢ƒæ’é™¤ã€‚

```javascript
Array.prototype[Symbol.unscopables]
// {
//   copyWithin: true,
//   entries: true,
//   fill: true,
//   find: true,
//   findIndex: true,
//   includes: true,
//   keys: true
// }

Object.keys(Array.prototype[Symbol.unscopables])
// ['copyWithin', 'entries', 'fill', 'find', 'findIndex', 'includes', 'keys']
```

ä¸Šé¢ä»£ç è¯´æ˜ï¼Œæ•°ç»„æœ‰ 7 ä¸ªå±æ€§ï¼Œä¼šè¢«`with`å‘½ä»¤æ’é™¤ã€‚

```javascript
// æ²¡æœ‰ unscopables æ—¶
class MyClass {
  foo() { return 1; }
}

var foo = function () { return 2; };

with (MyClass.prototype) {
  foo(); // 1
}

// æœ‰ unscopables æ—¶
class MyClass {
  foo() { return 1; }
  get [Symbol.unscopables]() {
    return { foo: true };
  }
}

var foo = function () { return 2; };

with (MyClass.prototype) {
  foo(); // 2
}
```

ä¸Šé¢ä»£ç é€šè¿‡æŒ‡å®š`Symbol.unscopables`å±æ€§ï¼Œä½¿å¾—`with`è¯­æ³•å—ä¸ä¼šåœ¨å½“å‰ä½œç”¨åŸŸå¯»æ‰¾`foo`å±æ€§ï¼Œå³`foo`å°†æŒ‡å‘å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡ã€‚

## æ•°æ®ç±»å‹çš„è½¬æ¢

JavaScriptæ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå˜é‡æ²¡æœ‰ç±»å‹é™åˆ¶ï¼Œå¯ä»¥éšæ—¶èµ‹äºˆä»»æ„å€¼ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿ç®—ç¬¦å’Œå‡½æ•°ä¼šè‡ªåŠ¨å°†èµ‹äºˆå®ƒä»¬çš„å€¼è½¬æ¢ä¸ºæ­£ç¡®çš„ç±»å‹ã€‚ æ¯”å¦‚ï¼Œ`alert` ä¼šè‡ªåŠ¨å°†ä»»ä½•å€¼éƒ½è½¬æ¢ä¸ºå­—ç¬¦ä¸²ä»¥è¿›è¡Œæ˜¾ç¤ºã€‚ç®—æœ¯è¿ç®—ç¬¦ä¼šå°†å€¼è½¬æ¢ä¸ºæ•°å­—ã€‚

### å¼ºåˆ¶è½¬æ¢(æ‰‹åŠ¨)

å¼ºåˆ¶è½¬æ¢ä¸»è¦æŒ‡ä½¿ç”¨`Number()`ã€`String()`å’Œ`Boolean()`ä¸‰ä¸ªå‡½æ•°ï¼Œæ‰‹åŠ¨å°†å„ç§ç±»å‹çš„å€¼ï¼Œåˆ†åˆ«è½¬æ¢æˆæ•°å­—ã€å­—ç¬¦ä¸²æˆ–è€…å¸ƒå°”å€¼ã€‚

#### Number()

ä½¿ç”¨`Number`å‡½æ•°ï¼Œå¯ä»¥å°†ä»»æ„ç±»å‹çš„å€¼è½¬åŒ–æˆæ•°å€¼ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å‚æ•°æ˜¯åŸå§‹ç±»å‹çš„å€¼ï¼Œå¦ä¸€ç§å‚æ•°æ˜¯å¯¹è±¡

##### åŸå§‹ç±»å‹å€¼

```javascript
// æ•°å€¼ï¼šè½¬æ¢åè¿˜æ˜¯åŸæ¥çš„å€¼
console.log(Number(324)) // 324
// å­—ç¬¦ä¸²ï¼šå¦‚æœå¯ä»¥è¢«è§£æä¸ºæ•°å€¼ï¼Œåˆ™è½¬æ¢ä¸ºç›¸åº”çš„æ•°å€¼
console.log(Number('324')) // 324
// å­—ç¬¦ä¸²ï¼šå¦‚æœä¸å¯ä»¥è¢«è§£æä¸ºæ•°å€¼ï¼Œè¿”å› NaN
console.log(Number('324abc'))// NaN
// ç©ºå­—ç¬¦ä¸²è½¬ä¸º0
console.log(Number('')) // 0
// å¸ƒå°”å€¼ï¼štrue è½¬æˆ 1ï¼Œfalse è½¬æˆ 0
console.log(Number(true)) // 1
console.log(Number(false)) // 0
// undefinedï¼šè½¬æˆ NaN
console.log(Number(undefined) )// NaN
// nullï¼šè½¬æˆ0
console.log(Number(null)) // 0
```

`Number`å‡½æ•°å°†å­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼ï¼Œè¦æ¯”`parseInt`å‡½æ•°ä¸¥æ ¼å¾ˆå¤šã€‚åªè¦æœ‰ä¸€ä¸ªå­—ç¬¦æ— æ³•è½¬æˆæ•°å€¼ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²å°±ä¼šè¢«è½¬ä¸ºNaNã€‚

```javascript
console.log(parseInt('42 cats'))
console.log(Number('42 cats'))
```

`parseInt`é€ä¸ªè§£æå­—ç¬¦ï¼Œè€Œ`Number`å‡½æ•°æ•´ä½“è½¬æ¢å­—ç¬¦ä¸²çš„ç±»å‹

##### å¯¹è±¡

ç®€å•çš„è§„åˆ™æ˜¯ï¼Œ`Number`æ–¹æ³•çš„å‚æ•°æ˜¯å¯¹è±¡æ—¶ï¼Œå°†è¿”å›`NaN`ï¼Œé™¤éæ˜¯åŒ…å«å•ä¸ªæ•°å€¼çš„æ•°ç»„ã€‚

```javascript
console.log(Number({ a: 1 })) // NaN
console.log(Number([1, 2, 3])) // NaN
console.log([5]) // [ 5 ]
```

`Number`è½¬æ¢è§„åˆ™ï¼š

- ç¬¬ä¸€æ­¥ï¼Œè°ƒç”¨å¯¹è±¡è‡ªèº«çš„`valueOf`æ–¹æ³•ã€‚å¦‚æœè¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™ç›´æ¥å¯¹è¯¥å€¼ä½¿ç”¨`Number`å‡½æ•°ï¼Œä¸å†è¿›è¡Œåç»­æ­¥éª¤ã€‚
- ç¬¬äºŒæ­¥ï¼Œå¦‚æœ`valueOf`æ–¹æ³•è¿”å›çš„è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ™æ”¹ä¸ºè°ƒç”¨å¯¹è±¡è‡ªèº«çš„`toString`æ–¹æ³•ã€‚å¦‚æœ`toString`æ–¹æ³•è¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨`Number`å‡½æ•°ï¼Œä¸å†è¿›è¡Œåç»­æ­¥éª¤ã€‚
- ç¬¬ä¸‰æ­¥ï¼Œå¦‚æœ`toString`æ–¹æ³•è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œå°±æŠ¥é”™ã€‚

#### String()

`String`å‡½æ•°å¯ä»¥å°†ä»»æ„ç±»å‹çš„å€¼è½¬åŒ–æˆå­—ç¬¦ä¸²

##### åŸå§‹ç±»å‹å€¼

- **æ•°å€¼**ï¼šè½¬ä¸ºç›¸åº”çš„å­—ç¬¦ä¸²ã€‚
- **å­—ç¬¦ä¸²**ï¼šè½¬æ¢åè¿˜æ˜¯åŸæ¥çš„å€¼ã€‚
- **å¸ƒå°”å€¼**ï¼š`true`è½¬ä¸ºå­—ç¬¦ä¸²`"true"`ï¼Œ`false`è½¬ä¸ºå­—ç¬¦ä¸²`"false"`ã€‚
- **undefined**ï¼šè½¬ä¸ºå­—ç¬¦ä¸²`"undefined"`ã€‚
- **null**ï¼šè½¬ä¸ºå­—ç¬¦ä¸²`"null"`ã€‚

```javascript
console.log(String(123)) // "123"
console.log(String('abc')) // "abc"
console.log(String(true)) // "true"
console.log(String(undefined)) // "undefined"
console.log(String(null)) // "null"
```

##### å¯¹è±¡

`String`æ–¹æ³•çš„å‚æ•°å¦‚æœæ˜¯å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªç±»å‹å­—ç¬¦ä¸²ï¼›å¦‚æœæ˜¯æ•°ç»„ï¼Œè¿”å›è¯¥æ•°ç»„çš„å­—ç¬¦ä¸²å½¢å¼ã€‚

```javascript
console.log(String({ a: 1 })) // [object Object]
console.log(String([1, 2, 3])) // 1,2,3
```



`String`æ–¹æ³•èƒŒåçš„è½¬æ¢è§„åˆ™ï¼Œä¸`Number`æ–¹æ³•åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯äº’æ¢äº†`valueOf`æ–¹æ³•å’Œ`toString`æ–¹æ³•çš„æ‰§è¡Œé¡ºåºã€‚

1. å…ˆè°ƒç”¨å¯¹è±¡è‡ªèº«çš„`toString`æ–¹æ³•ã€‚å¦‚æœè¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨`String`å‡½æ•°ï¼Œä¸å†è¿›è¡Œä»¥ä¸‹æ­¥éª¤ã€‚
2. å¦‚æœ`toString`æ–¹æ³•è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œå†è°ƒç”¨åŸå¯¹è±¡çš„`valueOf`æ–¹æ³•ã€‚å¦‚æœ`valueOf`æ–¹æ³•è¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨`String`å‡½æ•°ï¼Œä¸å†è¿›è¡Œä»¥ä¸‹æ­¥éª¤ã€‚
3. å¦‚æœ`valueOf`æ–¹æ³•è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œå°±æŠ¥é”™ã€‚

#### Boolean()

`Boolean()`å‡½æ•°å¯ä»¥å°†ä»»æ„ç±»å‹çš„å€¼è½¬ä¸ºå¸ƒå°”å€¼ã€‚

å®ƒçš„è½¬æ¢è§„åˆ™ç›¸å¯¹ç®€å•ï¼šé™¤äº†ä»¥ä¸‹äº”ä¸ªå€¼çš„è½¬æ¢ç»“æœä¸º`false`ï¼Œå…¶ä»–çš„å€¼å…¨éƒ¨ä¸º`true`ã€‚

- `undefined`
- `null`
- `0`ï¼ˆåŒ…å«`-0`å’Œ`+0`ï¼‰
- `NaN`
- `''`ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰

```javascript
console.log(Boolean(undefined)) // false
console.log(Boolean(null))// false
console.log(Boolean(0)) // false
console.log(Boolean(NaN)) // false
console.log(Boolean('')) // false
```

`true`å’Œ`false`çš„å¸ƒå°”å€¼ä¸ä¼šå‘ç”Ÿå˜åŒ–

```javascript
console.log(Boolean(true)) // true
console.log(Boolean(false)) // false
```

æ³¨æ„ï¼šæ‰€æœ‰å¯¹è±¡ï¼ˆåŒ…æ‹¬ç©ºå¯¹è±¡ï¼‰çš„è½¬æ¢ç»“æœéƒ½æ˜¯`true`ï¼Œç”šè‡³è¿falseå¯¹åº”çš„å¸ƒå°”å¯¹è±¡`new Boolean(false)`ä¹Ÿæ˜¯`true`

```javascript
console.log(Boolean({})) // true
console.log(Boolean([])) // true
console.log(Boolean(new Boolean(false))) // true
```

æ‰€æœ‰å¯¹è±¡çš„å¸ƒå°”å€¼éƒ½æ˜¯`true`ï¼Œè¿™æ˜¯å› ä¸º JavaScript è¯­è¨€è®¾è®¡çš„æ—¶å€™ï¼Œå‡ºäºæ€§èƒ½çš„è€ƒè™‘ï¼Œå¦‚æœå¯¹è±¡éœ€è¦è®¡ç®—æ‰èƒ½å¾—åˆ°å¸ƒå°”å€¼ï¼Œå¯¹äº`obj1 && obj2`è¿™æ ·çš„åœºæ™¯ï¼Œå¯èƒ½ä¼šéœ€è¦è¾ƒå¤šçš„è®¡ç®—ã€‚ä¸ºäº†ä¿è¯æ€§èƒ½ï¼Œå°±ç»Ÿä¸€è§„å®šï¼Œå¯¹è±¡çš„å¸ƒå°”å€¼ä¸º`true`ã€‚

### è‡ªåŠ¨è½¬æ¢

å­˜åœ¨ä¸‰ç§æƒ…å†µï¼ŒJavaScriptæ˜¯è‡ªåŠ¨è½¬æ¢æ•°æ®ç±»å‹çš„

1. ä¸åŒç±»å‹çš„æ•°æ®äº’ç›¸è½¬æ¢

```javascript
console.log(123 + 'abc') // "123abc"
```

1. å¯¹éå¸ƒå°”ç±»å‹çš„æ•°æ®æ±‚å¸ƒå°”å€¼

```javascript
if ('abc') {
	console.log('hello')
}  // "hello"
```

1. å¯¹éå¸ƒå°”å€¼çš„è¿ç®—ç¬¦ä½¿ç”¨ä¸€å…ƒè¿ç®—ç¬¦(å³`+`å’Œ`-`)

```javascript
console.log(+ {foo: 'bar'}) // NaN
console.log(- [1, 2, 3]) // NaN
```

æ³¨æ„ï¼šç”±äºè‡ªåŠ¨è½¬æ¢å…·æœ‰ä¸ç¡®å®šæ€§ï¼Œè€Œä¸”ä¸æ˜“é™¤é”™ï¼Œå»ºè®®åœ¨é¢„æœŸä¸ºå¸ƒå°”å€¼ã€æ•°å€¼ã€å­—ç¬¦ä¸²çš„åœ°æ–¹ï¼Œå…¨éƒ¨ä½¿ç”¨`Boolean()`ã€`Number()`å’Œ`String()`å‡½æ•°è¿›è¡Œæ˜¾å¼è½¬æ¢ã€‚

#### è‡ªåŠ¨è½¬æ¢ä¸ºå¸ƒå°”å€¼

JavaScript é‡åˆ°é¢„æœŸä¸ºå¸ƒå°”å€¼çš„åœ°æ–¹ï¼ˆæ¯”å¦‚`if`è¯­å¥çš„æ¡ä»¶éƒ¨åˆ†ï¼‰ï¼Œå°±ä¼šå°†éå¸ƒå°”å€¼çš„å‚æ•°è‡ªåŠ¨è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚ç³»ç»Ÿå†…éƒ¨ä¼šè‡ªåŠ¨è°ƒç”¨`Boolean()`å‡½æ•°ã€‚

#### è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²

JavaScript é‡åˆ°é¢„æœŸä¸ºå­—ç¬¦ä¸²çš„åœ°æ–¹ï¼Œå°±ä¼šå°†éå­—ç¬¦ä¸²çš„å€¼è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²ã€‚å…·ä½“è§„åˆ™æ˜¯ï¼Œå…ˆå°†å¤åˆç±»å‹çš„å€¼è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼ï¼Œå†å°†åŸå§‹ç±»å‹çš„å€¼è½¬ä¸ºå­—ç¬¦ä¸²ã€‚

å­—ç¬¦ä¸²çš„è‡ªåŠ¨è½¬æ¢ï¼Œä¸»è¦å‘ç”Ÿåœ¨å­—ç¬¦ä¸²çš„åŠ æ³•è¿ç®—æ—¶ã€‚å½“ä¸€ä¸ªå€¼ä¸ºå­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªå€¼ä¸ºéå­—ç¬¦ä¸²ï¼Œåˆ™åè€…è½¬ä¸ºå­—ç¬¦ä¸²ã€‚

#### è‡ªåŠ¨è½¬æ¢ä¸ºæ•°å€¼

JavaScript é‡åˆ°é¢„æœŸä¸ºæ•°å€¼çš„åœ°æ–¹ï¼Œå°±ä¼šå°†å‚æ•°å€¼è‡ªåŠ¨è½¬æ¢ä¸ºæ•°å€¼ã€‚ç³»ç»Ÿå†…éƒ¨ä¼šè‡ªåŠ¨è°ƒç”¨`Number()`å‡½æ•°ã€‚

### æ‰©å±•

#### 1. parseInt(å˜é‡) æŠŠå­—ç¬¦å‹è½¬æ¢ä¸ºæ•°å­—å‹ï¼Œå¾—åˆ°çš„æ˜¯æ•´æ•°

```javascript
	console.log(parseInt(3.14)); // 3 å–æ•´
	console.log(parseInt('120px')); // å»æ‰pxå•ä½
	// æ³¨æ„ï¼šparseIntå’ŒNumberå‡½æ•°éƒ½ä¼šè‡ªåŠ¨è¿‡æ»¤ä¸€ä¸ªå­—ç¬¦ä¸²å‰å¯¼å’Œåç¼€çš„ç©ºæ ¼
	console.log(Number(" 123  ")); // 123
```

#### 2. parseFloat(å˜é‡) å¯ä»¥æŠŠå­—ç¬¦å‹çš„è½¬æ¢ä¸ºæ•°å­—å‹å¾—åˆ°çš„æ˜¯å°æ•°ï¼Œæµ®ç‚¹æ•°

```javascript
	console.log(parseFloat(3.14)); // 3.14
	console.log(parseFloat('120px')); // å»æ‰pxå•ä½
```

#### 3. è½¬æ¢å­—ç¬¦ä¸²çš„ä¸‰ç§æ–¹å¼

- toString()

```javascript
	let num = 1;
	let str = num.toString();
	console.log(typeof (str)); //  string å­—ç¬¦ä¸²
```

- JSON.stringify åˆ©ç”¨String(å˜é‡)å®ç°

```javascript
	console.log(String(num)); // 1 å­—ç¬¦ä¸²
```

- åˆ©ç”¨ + æ‹¼æ¥å­—ç¬¦ä¸²çš„æ–¹æ³•å®ç°è½¬æ¢æ–¹æ³•(ä¹Ÿç§°ä¸ºéšå¼è½¬æ¢)

```javascript
	console.log(num + 'num1' + 'num2'); //1num1num2
```
