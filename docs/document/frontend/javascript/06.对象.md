---
title: å¯¹è±¡
date: 2022-09-16
---

## Objectå¯¹è±¡

å¯¹è±¡(object)æ˜¯JavaScriptè¯­è¨€çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå¯¹è±¡å°±æ˜¯ä¸€ç»„"é”®å€¼å¯¹"(key-value)çš„é›†åˆï¼Œæ˜¯ä¸€ç§æ— åºçš„å¤åˆæ•°æ®é›†åˆ

```javascript
let obj = {
	foo: 'Hello',
	bar: 'World'
}
```

### é”®å

- å¯¹è±¡çš„æ‰€æœ‰é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼ˆES6 åˆå¼•å…¥äº† Symbol å€¼ä¹Ÿå¯ä»¥ä½œä¸ºé”®åï¼‰ï¼Œæ‰€ä»¥åŠ ä¸åŠ å¼•å·éƒ½å¯ä»¥ã€‚ä¸Šé¢çš„ä»£ç ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚

```javascript
var obj = {
  'foo': 'Hello',
  'bar': 'World'
};
```

- å¦‚æœæ˜¯æ•°å€¼ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¦‚æœé”®åä¸ç¬¦åˆæ ‡è¯†åçš„æ¡ä»¶ï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºæ•°å­—ï¼Œæˆ–è€…å«æœ‰ç©ºæ ¼æˆ–è¿ç®—ç¬¦ï¼‰ï¼Œä¸”ä¹Ÿä¸æ˜¯æ•°å­—ï¼Œåˆ™å¿…é¡»åŠ ä¸Šå¼•å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™

```javascript
// æŠ¥é”™
let obj = {
	1p: 'Hello World'
};

// ä¸æŠ¥é”™ ä¸‹é¢ä¸‰ä¸ªéƒ½ä¸ç¬¦åˆï¼Œæ‰€ä»¥å¿…é¡»åŠ å¼•å·
let obj = {
	'1p': 'Hello World',
	'h w': 'Hello World',
	'p+q': 'Hello World'
};
```

- å¯¹è±¡çš„æ¯ä¸€ä¸ªé”®ååˆç§°ä¸ºâ€œå±æ€§â€ï¼ˆpropertyï¼‰ï¼Œå®ƒçš„â€œé”®å€¼â€å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ã€‚å¦‚æœä¸€ä¸ªå±æ€§çš„å€¼ä¸ºå‡½æ•°ï¼Œé€šå¸¸æŠŠè¿™ä¸ªå±æ€§ç§°ä¸ºâ€œæ–¹æ³•â€ï¼Œå®ƒå¯ä»¥åƒå‡½æ•°é‚£æ ·è°ƒç”¨

```javascript
let obj = {
	p: function(x) {
		console.log(x) // 1
	}
}
obj.p(1)
```

- å¦‚æœå±æ€§çš„å€¼è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šå½¢æˆé“¾å¼å¼•ç”¨

```javascript
let o1 = {}
let o2 = { baz: 'hello' }
o1.foo = o2 // o1çš„å±æ€§å€¼æŒ‡å‘äº†å¯¹è±¡o2
console.log(o1.foo.baz) // è¿”å› hello é“¾å¼å¼•ç”¨o2çš„å±æ€§ 
```

- å±æ€§å¯ä»¥åŠ¨æ€åˆ›å»ºï¼Œä¸å¿…åœ¨å¯¹è±¡å£°æ˜æ—¶å°±æŒ‡å®š

```javascript
let obj = {}
obj.foo = 123
console.log(obj) // {foo:123}
```

### å¯¹è±¡çš„å¼•ç”¨

å¦‚æœä¸åŒçš„å˜é‡åæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªå˜é‡ï¼Œä¼šå½±å“åˆ°å…¶ä»–æ‰€æœ‰å˜é‡

```javascript
let o1 = {}
let o2 = o1
o1.a = 1
console.log(o2) // {foo:1}
o2.b = 2
console.log(o2) // { a: 1, b: 2 }
console.log(o1) // { a: 1, b: 2 }
```

### åˆ›å»ºå¯¹è±¡çš„ä¸‰ç§æ–¹å¼

#### 1. ä½¿ç”¨new Objectåˆ›å»ºå¯¹è±¡ç¤ºä¾‹

```javascript
	let obj1 = new Object(); // åˆ›å»ºäº†ä¸€ä¸ªç©ºçš„å¯¹è±¡
	obj1.uname = 'å¼ ä¸‰ä¸°';
	obj1.age = 18;
	obj1.sex = 'sex';
	// è¿½åŠ æ–¹æ³•
	obj1.sayHi = function() {
		console.log('è¿™æ˜¯ä¸€ä¸ªæ–¹æ³•');
}
```

#### 2. å­—é¢é‡çš„è¯­æ³•

å¯¹è±¡å±æ€§å¯ä»¥åŠ¨æ€åˆ›å»ºï¼Œä¸å¿…åœ¨å¯¹è±¡å£°æ˜æ—¶å°±æŒ‡å®š

1. æˆ‘ä»¬æ˜¯åˆ©ç”¨ç­‰å·èµ‹å€¼çš„æ–¹æ³•ï¼Œæ·»åŠ å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•
2. æ¯ä¸ªå±æ€§å’Œæ–¹æ³•ä¹‹é—´ç”¨åˆ†å·ç»“æŸ

```javascript
	var o = {}; // å®šä¹‰ä¸€ä¸ªç©ºå¯¹è±¡
	o.foo = 123; // å¯¹fooå±æ€§è¿›è¡Œèµ‹å€¼
	console.log(o.foo); // 123
```

#### 3. åˆ©ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡

```javascript
function Star(uname, age) {
	this.uname = uname;
	this.age = age;
	this.sing = function() {
		console.log('æˆ‘ä¼šå”±æ­Œ');
	}
}
let ldh = new Star('åˆ˜å¾·å', 18);
console.log(ldh);
ldh.sing();
```

### å±æ€§çš„æ“ä½œ

è¯»å–å¯¹è±¡çš„å±æ€§ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œå¦ä¸€ç§ä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦

#### ä½¿ç”¨ `.` è®¿é—®å±æ€§å€¼

```javascript
	let obj1 = { // å¯¹è±¡èµ‹å€¼ç»™å˜é‡obj1
		foo: 'Hello', // fooæ˜¯"é”®å"ï¼ˆæˆå‘˜çš„åç§°ï¼‰ï¼Œå­—ç¬¦ä¸²'Hello'æ˜¯"é”®å€¼"ï¼ˆæˆå‘˜çš„å€¼ï¼‰
		bar: 'World', // åˆ—è¡¨ä¸­æœ€åä¸€ä¸ªå±æ€§åº”ä»¥é€—å·ç»“å°¾ï¼Œè¿™å«åšå°¾éš(trailing)æˆ–æ‚¬æŒ‚(hanging)é€—å·ã€‚è¿™æ ·ä¾¿äºæˆ‘ä»¬æ·»åŠ ã€åˆ é™¤å’Œç§»åŠ¨å±æ€§
	};
	// ä½¿ç”¨ '.' è®¿é—®å±æ€§å€¼
	console.log(obj1.foo) // Hello
```

#### ä½¿ç”¨æ–¹æ‹¬å·è®¿é—®å±æ€§

å¯¹äºå¤šè¯å±æ€§ï¼Œç‚¹æ“ä½œæ— æ³•ä½¿ç”¨ã€‚ç‚¹ç¬¦å·è¦æ±‚ `key `æ˜¯æœ‰æ•ˆçš„å˜é‡æ ‡è¯†ç¬¦ã€‚è¿™æ„å‘³ç€ï¼šä¸åŒ…å«ç©ºæ ¼ï¼Œä¸ä»¥æ•°å­—å¼€å¤´ï¼Œä¹Ÿä¸åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå…è®¸ä½¿ç”¨` $` å’Œ`_`ï¼‰ã€‚

```javascript
// åˆ›å»ºä¸€ä¸ªå¯¹è±¡
let userF = {}
//è®¾ç½®
userF["like birds"] = true;
console.log("å¯¹è±¡çš„å€¼ï¼š" + userF["like birds"]) //  true æ–¹æ‹¬å·ä¸­å­—ç¬¦ä¸²è¦æ”¾åœ¨å¼•å·ä¸­
```

æ³¨æ„ï¼šä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œé”®åå¿…é¡»æ”¾åœ¨å¼•å·é‡Œé¢ï¼Œå¦åˆ™ä¼šè¢«å½“åšå˜é‡å¤„ç†



æ–¹æ‹¬å·åŒæ ·æä¾›äº†ä¸€ç§å¯ä»¥é€šè¿‡ä»»æ„è¡¨è¾¾å¼æ¥è·å–å±æ€§åçš„æ–¹æ³•ï¼Œå˜é‡`key`å¯ä»¥æ˜¯ç¨‹åºè¿è¡Œæ—¶è®¡ç®—å¾—åˆ°çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·çš„è¾“å…¥å¾—åˆ°çš„

```javascript
	let users = {
		name: "Karim",
		age: 18
	}
	let key = prompt("What do you want to know about the user?", "name")
	// è®¿é—®å˜é‡
	console.log(users[key])
```

#### æ·»åŠ ã€åˆ é™¤å’Œè¯»å–æ–‡ä»¶

- å¯¹è±¡çš„æ‰€æœ‰é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœé”®åæ˜¯æ•°å€¼ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²ã€‚
- å¯¹è±¡çš„æ¯ä¸€ä¸ªé”®ååˆç§°ä¸º`å±æ€§ï¼ˆpropertyï¼‰`ï¼Œå®ƒçš„é”®å€¼å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ã€‚
- åˆ é™¤å±æ€§(`delete`å‘½ä»¤)ä¹‹åå†æ¬¡è¯»å–å·²åˆ é™¤çš„å±æ€§ä¼šè¿”å›undefinedï¼Œè€Œä¸”`Object.keys`æ–¹æ³•çš„è¿”å›å€¼ä¹Ÿä¸å†åŒ…æ‹¬è¯¥å±æ€§
- åˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§ï¼Œdeleteä¸æŠ¥é”™ï¼Œè€Œä¸”è¿”å›true

```javascript
let obj = {
	name: 'karim',
	address: 'ä¸Šæµ·',
	age: 20,
	gender: 'man'
}
console.log('åŸå§‹å¯¹è±¡ï¼š', obj) // åŸå§‹å¯¹è±¡ï¼š { name: 'karim', address: 'ä¸Šæµ·', age: 20, gender: 'man' }
delete obj.gender
console.log('åˆ é™¤åå¯¹è±¡ï¼š', obj) // åˆ é™¤åå¯¹è±¡ï¼š { name: 'karim', address: 'ä¸Šæµ·', age: 20 }
console.log(obj.gender) // undefined
```

- åªæœ‰ä¸€ç§æƒ…å†µï¼Œ`delete`å‘½ä»¤ä¼šè¿”å›`false`ï¼Œé‚£å°±æ˜¯å±æ€§å­˜åœ¨ï¼Œä¸”ä¸å¾—åˆ é™¤

```javascript
let obj = Object.defineProperty({}, 'p', {
	value: 123,
	configurable: false
});

console.log(obj.p) // 123
console.log(delete obj.p) // false
```

æ³¨æ„ï¼š`delete`å‘½ä»¤åªèƒ½åˆ é™¤å¯¹è±¡æœ¬èº«çš„å±æ€§

#### æŸ¥çœ‹å±æ€§Object.keys()

æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„	

```javascript
	var karim = {
		key1: 1,
		key2: 2
	};
	console.log(Object.keys(karim)); //['key1','key2']
```

### å±æ€§æè¿°å¯¹è±¡

1. `value`ï¼š`value`æ˜¯è¯¥å±æ€§çš„å±æ€§å€¼ï¼Œé»˜è®¤ä¸º`undefined`ã€‚
2. `writable`ï¼š`writable`æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå±æ€§å€¼ï¼ˆvalueï¼‰æ˜¯å¦å¯æ”¹å˜ï¼ˆå³æ˜¯å¦å¯å†™ï¼‰ï¼Œé»˜è®¤ä¸ºtrueã€‚
3. `enumerable`ï¼š`enumerable`æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å±æ€§æ˜¯å¦å¯éå†ï¼Œé»˜è®¤ä¸º`true`ã€‚å¦‚æœè®¾ä¸º`false`ï¼Œä¼šä½¿å¾—æŸäº›æ“ä½œï¼ˆæ¯”å¦‚`for...in`å¾ªç¯ã€`Object.keys()`ï¼‰è·³è¿‡è¯¥å±æ€§ã€‚
4. `configurable`ï¼š`configurable`æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå±æ€§çš„å¯é…ç½®æ€§ï¼Œé»˜è®¤ä¸º`true`ã€‚å¦‚æœè®¾ä¸º`false`ï¼Œå°†é˜»æ­¢æŸäº›æ“ä½œæ”¹å†™å±æ€§æè¿°å¯¹è±¡ï¼Œæ¯”å¦‚æ— æ³•åˆ é™¤è¯¥å±æ€§ï¼Œä¹Ÿä¸å¾—æ”¹å˜å„ç§å…ƒå±æ€§ï¼ˆ`value`å±æ€§é™¤å¤–ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`configurable`å±æ€§æ§åˆ¶äº†å±æ€§æè¿°å¯¹è±¡çš„å¯å†™æ€§ã€‚
5. `get`ï¼š`get`æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¡¨ç¤ºè¯¥å±æ€§çš„å–å€¼å‡½æ•°ï¼ˆ`getter`ï¼‰ï¼Œé»˜è®¤ä¸º`undefined`ã€‚
6. `set`ï¼š`set`æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¡¨ç¤ºè¯¥å±æ€§çš„å­˜å€¼å‡½æ•°ï¼ˆ`setter`ï¼‰ï¼Œé»˜è®¤ä¸º`undefined`ã€‚

#### getOwnPropertyDescriptor()

`Object.getOwnPropertyDescriptor()`æ–¹æ³•å¯ä»¥è·å–å±æ€§æè¿°å¯¹è±¡ã€‚å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹åº”ç›®æ ‡å¯¹è±¡çš„æŸä¸ªå±æ€§åã€‚

```javascript
let obj = { p: 'a' }
console.log(Object.getOwnPropertyDescriptor(obj, 'p'))
// { value: 'a', writable: true, enumerable: true, configurable: true }
```

##### åªè¯»å±æ€§

```javascript
// é€šè¿‡ä¿®æ”¹writable æ ‡å¿—æ¥æŠŠuser.name è®¾ç½®ä¸ºåªè¯»(user.name)ä¸èƒ½é‡æ–°èµ‹å€¼
let user = {
	name: 'John'
};
Object.defineProperty(user, 'name', {
	writable: true
});
user.name = 'Pete'; // è®¾ç½®ä¸ºfalseåˆ™ä¸ºåªè¯»ä¸èƒ½ä¿®æ”¹
console.log(user.name); // John
```

##### ä¸å¯æšä¸¾æ€§

```javascript
// é€šè¿‡å¯¹è±¡ä¸­å†…å»ºçš„toStringæ˜¯ä¸å¯æšä¸¾çš„ï¼Œå®ƒä¸ä¼šæ˜¾ç¤ºåœ¨for..inä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„toStringï¼Œé‚£ä¹ˆé»˜è®¤æƒ…å†µä¸‹å®ƒå°†æ˜¾ç¤ºåœ¨for..inä¸­
let user = {
	name: 'John',
	toString() {
		return this.name;
	}
}
// for..in å¾ªç¯ï¼Œé»˜è®¤æƒ…å†µä¸‹æˆ‘ä»¬ä¸¤ä¸ªå±æ€§éƒ½ä¼šåˆ—å‡º
for (let key in user) {
	console.log(key); // name, toString
}
// ä¸å¯æšä¸¾æ€§ä¹Ÿä¼šè¢«Object.keys æ’é™¤
```

æ³¨æ„ï¼š`Object.getOwnPropertyDescriptor()`æ–¹æ³•åªèƒ½ç”¨äºå¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä¸èƒ½ç”¨äºç»§æ‰¿çš„å±æ€§ã€‚

```javascript
let obj = { p: 'a' }
console.log(Object.getOwnPropertyDescriptor(obj, 'toString'))
// undefined
```

`toString`æ˜¯`obj`å¯¹è±¡ç»§æ‰¿çš„å±æ€§ï¼Œ`Object.getOwnPropertyDescriptor()`æ— æ³•è·å–

#### Object.getOwnPropertyNames()

`Object.getOwnPropertyNames`æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„å…¨éƒ¨å±æ€§çš„å±æ€§åï¼Œä¸ç®¡è¯¥å±æ€§æ˜¯å¦å¯éå†ã€‚

```javascript
let obj = Object.defineProperties({}, {
	p1: {
		value: 1,
		enumerable: true
	},
	p2: {
		value: 2,
		enumerable: false
	}
})
console.log(Object.getOwnPropertyNames(obj)) // ['p1','p2']
```

#### Object.defineProperty()

`Object.defineProperty()`æ–¹æ³•å…è®¸é€šè¿‡å±æ€§æè¿°å¯¹è±¡ï¼Œå®šä¹‰æˆ–ä¿®æ”¹ä¸€ä¸ªå±æ€§ï¼Œç„¶åè¿”å›ä¿®æ”¹åçš„å¯¹è±¡ï¼Œå®ƒçš„ç”¨æ³•å¦‚ä¸‹ï¼š

```javascript
Object.defineProperty(object, propertyName, attributesObject)
```

`Object.defineProperty`æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡å¦‚ä¸‹ã€‚

- objectï¼šå±æ€§æ‰€åœ¨çš„å¯¹è±¡
- propertyNameï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå±æ€§å
- attributesObjectï¼šå±æ€§æè¿°å¯¹è±¡

```javascript
let obj = Object.defineProperty({}, 'p', {
	value: '123',
	writable: false,
	enumerable: false,
	configurable: false
})
console.log(obj.p) // 123
obj.p = 456
console.log(obj.p) // 123
```

##### å®šä¹‰å¤šä¸ªå±æ€§æ ‡è¯†ç¬¦

`Object.defineProperties(obj, descriptors)`ï¼Œå…è®¸ä¸€æ¬¡å®šä¹‰å¤šä¸ªå±æ€§

```javascript
Object.defineProperties(obj, {
 prop1: descriptor1,
 prop2: descriptor2
 // ...
})
let obj = Object.defineProperties({}, {
	p1: {
		value: 123,
		enumerable: true
	},
	p2: {
		value: 'abc',
		enumerable: true
	},
	p3: {
		get: function() { return this.p1 + this.p2 },
		enumerable: true,
		configurable: true
	}
});

console.log(obj.p1) // 123
console.log(obj.p2) // "abc"
console.log(obj.p3) // "123abc"
```

#### è·å–å±æ€§æè¿°ç¬¦

è¦ä¸€æ¬¡è·å–æ‰€æœ‰å±æ€§æè¿°ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `Object.getOwnPropertyDescriptors(obj)` æ–¹æ³•ã€‚å®ƒä¸` Object.defineProperties` ä¸€èµ·å¯ä»¥ç”¨ä½œå…‹éš†å¯¹è±¡çš„â€œæ ‡å¿—æ„ŸçŸ¥â€æ–¹å¼ï¼š

```javascript
let clone = Object.defineProperties({}, Object.getOwnPropertyDescriptors(obj));
console.log(clone) // { p1: 123, p2: 'abc', p3: [Getter] }
```

#### Object.prototype.propertyIsEnumerable()

å®ä¾‹å¯¹è±¡çš„`propertyIsEnumerable()`æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨æ¥åˆ¤æ–­æŸä¸ªå±æ€§æ˜¯å¦å¯éå†ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•åªèƒ½ç”¨äºåˆ¤æ–­å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œå¯¹äºç»§æ‰¿çš„å±æ€§ä¸€å¾‹è¿”å›`false`ã€‚

```javascript
let obj = {}
obj.p = 123
console.log(obj.propertyIsEnumerable('p')) // true
console.log(obj.propertyIsEnumerable('toString')) // false
```

#### å­˜å–å™¨

é™¤äº†ç›´æ¥å®šä¹‰ä»¥å¤–ï¼Œå±æ€§è¿˜å¯ä»¥ç”¨å­˜å–å™¨ï¼ˆaccessorï¼‰å®šä¹‰ã€‚å…¶ä¸­ï¼Œå­˜å€¼å‡½æ•°ç§°ä¸º`setter`ï¼Œä½¿ç”¨å±æ€§æè¿°å¯¹è±¡çš„`set`å±æ€§ï¼›å–å€¼å‡½æ•°ç§°ä¸º`getter`ï¼Œä½¿ç”¨å±æ€§æè¿°å¯¹è±¡çš„`get`å±æ€§ã€‚

æœ‰ä¸¤ç§ç±»å‹çš„å¯¹è±¡å±æ€§ï¼š

- ç¬¬ä¸€ç§æ˜¯æ•°æ®å±æ€§ã€‚ç›®å‰ä¸ºæ­¢æˆ‘ä»¬ä½¿ç”¨è¿‡çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯æ•°æ®å±æ€§ã€‚
- ç¬¬äºŒç§ç±»å‹çš„å±æ€§æ˜¯è®¿é—®å™¨å±æ€§(accessor properties) å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ç”¨äºè·å–å’Œè®¾ç½®å€¼çš„å‡½æ•°ï¼Œä½†ä»å¤–éƒ¨ä»£ç æ¥çœ‹å°±åƒå¸¸è§„å±æ€§

```javascript
let user = {
	name: 'John',
	surname: 'Smith',
	get fullName() {
		return `${this.name} ${this.surname}`
	},
	set fullName(value) {
		[this.name, this.surname] = value.split(",")
	}
}
// set fullName å°†ä»¥ç»™å®šå€¼æ‰§è¡Œ
user.fullName = 'Alice,Cooper'; // setter
console.log(user.name); // getter Alice
console.log(user.surname); // getter Cooper
```

æ³¨æ„ï¼Œå–å€¼å‡½æ•°`get`ä¸èƒ½æ¥å—å‚æ•°ï¼Œå­˜å€¼å‡½æ•°`set`åªèƒ½æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆå³å±æ€§çš„å€¼ï¼‰ã€‚

### è®¡ç®—å±æ€§

åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨æ–¹æ‹¬å·ã€‚è¿™å«åšè®¡ç®—å±æ€§

```javascript
	let fruit = prompt("Which fruit to buy", "apple")
	let bag = {
		[fruit]: 5, // å±æ€§åæ˜¯ä»fruitå˜é‡ä¸­å¾—åˆ°çš„
	};
	console.log(bag.apple) // 5 -->å¦‚æœfruit="apple"
```

#### å¤æ‚è¡¨è¾¾å¼

```javascript
	let fruits = 'apple';
	let bags = {
		[fruits + 'Computers']: 5
	}
	console.log(bags) // appleComputers: 5
```

#### å±æ€§çš„ç®€å†™

```javascript
	function makeUser(name, age) {
		return {
			name,
			age,
		}
	}
	let user = makeUser("karim", 18)
	console.log(user.name) // karim
```

### å±æ€§çš„éå†

#### `for..in`æ–¹æ³•

ç”¨æ¥éå†ä¸€ä¸ªå¯¹è±¡çš„å…¨éƒ¨å±æ€§ï¼ˆæ‰€æœ‰é”®å€¼ï¼‰

æ³¨æ„ç‚¹ï¼š

- å®ƒéå†çš„æ˜¯å¯¹è±¡æ‰€æœ‰å¯éå†çš„å±æ€§ï¼Œä¼šè·³è¿‡ä¸å¯éå†çš„å±æ€§
- å®ƒä¸ä»…éå†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œè¿˜éå†ç»§æ‰¿çš„å±æ€§

```javascript
	var karim = {
		a: 1,
		b: 2,
		c: 3
	};
	for (var key in karim) {
		console.log('é”®åæ˜¯ï¼š' + key); // a b c
		console.log('é”®å€¼æ˜¯ï¼š' + karim[n]); // 1 2 3
	}
```

#### `Object.getOwnPropertyNames()`

æ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†è¯¥å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§å

```javascript
	var obj = {
		p1: 123,
		p2: 456
	};
	console.log(Object.getOwnPropertyNames(obj)); // ['p1', 'p2']
```

æ³¨æ„ï¼šç”±äºJavaScriptæ²¡æœ‰æä¾›è®¡ç®—å¯¹è±¡å±æ€§ä¸ªæ•°çš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•æ¥æ›¿ä»£

### å±æ€§çš„å­˜åœ¨æ€§æµ‹è¯•

ç›¸è¾ƒäºå…¶ä»–è¯­è¨€ï¼ŒJavaScriptå¯¹è±¡èƒ½å¤Ÿè¢«è®¿é—®ä»»ä½•å±æ€§ï¼Œå³ä½¿å±æ€§ä¸å­˜åœ¨ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚è¯»å–ä¸å­˜åœ¨çš„å±æ€§ä¼šè¿”å›undefined

```javascript
let user1 = {}
console.log(user1.noSuchProperty === undefined) // true æ„æ€æ˜¯æ²¡æœ‰è¿™ä¸ªå±æ€§
```

#### æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨çš„æ“ä½œç¬¦`in`

`in`è¿ç®—ç¬¦ç”¨äºæ£€æŸ¥å¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªå±æ€§ï¼ˆæ³¨æ„ï¼Œæ£€æŸ¥çš„æ˜¯é”®åï¼Œä¸æ˜¯é”®å€¼ï¼‰ï¼Œå¦‚æœåŒ…å«å°±è¿”å›`true`ï¼Œå¦åˆ™è¿”å›`false`ã€‚å®ƒçš„å·¦è¾¹æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå±æ€§åï¼Œå³è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚

```javascript
let user2 = {
	name: "Karim",
	age: 20
}
console.log("age" in user2) // å­˜åœ¨ è¿”å›true
console.log("ages" in user2) // ä¸å­˜åœ¨ è¿”å›false
```

`in`è¿ç®—ç¬¦çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå®ƒä¸èƒ½è¯†åˆ«å“ªäº›å±æ€§æ˜¯å¯¹è±¡è‡ªèº«çš„ï¼Œå“ªäº›å±æ€§æ˜¯ç»§æ‰¿çš„ã€‚å°±åƒä¸‹é¢ä»£ç ä¸­ï¼Œå¯¹è±¡`obj`æœ¬èº«å¹¶æ²¡æœ‰`toString`å±æ€§ï¼Œä½†æ˜¯`in`è¿ç®—ç¬¦ä¼šè¿”å›`true`ï¼Œå› ä¸ºè¿™ä¸ªå±æ€§æ˜¯ç»§æ‰¿çš„ã€‚

```javascript
let obj = { p: 1 };
console.log('p' in obj) // true
console.log('toString' in obj) // true
```

å¯ä»¥ä½¿ç”¨å¯¹è±¡çš„`hasOwnProperty`æ–¹æ³•åˆ¤æ–­ä¸€ä¸‹ï¼Œæ˜¯å¦ä¸ºå¯¹è±¡è‡ªèº«çš„å±æ€§

```javascript
let obj = {};
if ('toString' in obj) {
	console.log(obj.hasOwnProperty('toString')) // false
}
```

### å¯¹è±¡çš„æ’åº

å¯¹è±¡å­˜åœ¨ç‰¹åˆ«çš„é¡ºåºï¼šæ•´æ•°å±æ€§(ä¸€ä¸ªå¯ä»¥ä¸åšä»»ä½•æ›´æ”¹çš„æƒ…å†µä¸‹ä¸ä¸€ä¸ªæ•´æ•°è¿›è¡Œç›¸äº’è½¬æ¢çš„å­—ç¬¦ä¸²)ä¼šè¢«è¿›è¡Œæ’åºï¼Œå…¶ä»–å±æ€§æŒ‰ç…§åˆ›å»ºçš„é¡ºåºæ˜¾ç¤º

```javascript
let codes = {
	"49": "Germany",
	"41": "Switzerland",
	"44": "Great Britain",
	// ..,
	"1": "USA"
}
for (let code in codes) {
	console.log(code) // 1 41 44 49 å› ä¸ºå·ç æ˜¯æ•´æ•°ï¼Œæ‰€ä»¥å‡åºæ’åº
}
```

å¦‚æœå±æ€§åä¸æ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆå®ƒä»¬å°±æŒ‰ç…§åˆ›å»ºæ—¶çš„é¡ºåºæ¥æ’åº

```javascript
let user = {
	name: 'Karim',
	surname: 'Smith'
};
user.age = 18;
// éå†
for (let prop in user) {
	console.log(prop) // name, surname, age
}
```

### æ§åˆ¶å¯¹è±¡çš„çŠ¶æ€

JavaScript æä¾›äº†ä¸‰ç§å†»ç»“æ–¹æ³•ï¼Œæœ€å¼±çš„ä¸€ç§æ˜¯`Object.preventExtensions`ï¼Œå…¶æ¬¡æ˜¯`Object.seal`ï¼Œæœ€å¼ºçš„æ˜¯`Object.freeze`

#### `Object.preventExtensions() `

`Object.preventExtensions() `æ–¹æ³•ä½¿ä¸€ä¸ªå¯¹è±¡æ— æ³•å†æ·»åŠ æ–°çš„å±æ€§

```javascript
let obj = new Object()
Object.preventExtensions(obj)
Object.defineProperty({}, 'p', {
	value: '123'
})
obj.p = 1
console.log(obj.p) // undefined
```

#### `Object.seal()`

`Object.seal()`æ–¹æ³•ä½¿ä¸€ä¸ªå¯¹è±¡æ—¢æ— æ³•æ·»åŠ æ–°å±æ€§ï¼Œä¹Ÿæ— æ³•åˆ é™¤æ—§å±æ€§

```javascript
let obj = { p: 'hello' }
Object.seal(obj)
delete obj.p
console.log(obj.p) // hello
obj.x='world'
console.log(obj.x) // undefined
```

`Object.seal`å®è´¨æ˜¯æŠŠå±æ€§æè¿°å¯¹è±¡çš„`configurable`å±æ€§è®¾ä¸º`false`ï¼Œå› æ­¤å±æ€§æè¿°å¯¹è±¡ä¸å†èƒ½æ”¹å˜äº†ã€‚

```javascript
let obj = { p: 'hello' }
console.log(Object.getOwnPropertyDescriptor(obj, 'p'))
/*{
 value: 'hello',
 writable: true,
 enumerable: true,
 configurable: true
 }
 */
Object.seal(obj)
console.log(Object.getOwnPropertyDescriptor(obj, 'p'))
/*{
 value: 'hello',
 writable: true,
 enumerable: true,
 configurable: false
 }
 */
```

`Object.seal`æ–¹æ³•åªæ˜¯ç¦æ­¢æ–°å¢æˆ–åˆ é™¤å±æ€§ï¼Œå¹¶ä¸å½±å“æŸä¸ªå±æ€§çš„å€¼

```javascript
let obj = { p: 'hello' }
Object.seal(obj)
delete obj.p
console.log(obj.p) // hello
obj.x = 'world'
console.log(obj.x) // undefined
obj.p = 'hello world'
console.log(obj.p) // hello world
```

#### `Object.isSealed()`

`Object.isSealed`æ–¹æ³•ç”¨äºæ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä½¿ç”¨äº†`Object.seal`æ–¹æ³•ã€‚

```javascript
let obj = { p: 'a' };

Object.seal(obj);
console.log(Object.isSealed(obj)) // true
```

`Object.isExtensible`æ–¹æ³•ä¹Ÿè¿”å›`false`ã€‚

```javascript
let obj = { p: 'a' };

Object.seal(obj);
console.log(Object.isSealed(obj)) // true
console.log(Object.isExtensible(obj)) false
```

#### `Object.freeze()`

`Object.freeze`æ–¹æ³•å¯ä»¥ä½¿å¾—ä¸€ä¸ªå¯¹è±¡æ— æ³•æ·»åŠ æ–°å±æ€§ã€æ— æ³•åˆ é™¤æ—§å±æ€§ã€ä¹Ÿæ— æ³•æ”¹å˜å±æ€§çš„å€¼ï¼Œä½¿å¾—è¿™ä¸ªå¯¹è±¡å®é™…ä¸Šå˜æˆäº†å¸¸é‡ã€‚

```javascript
let obj = { p: 'hello' }
Object.freeze(obj)
obj.p = 'world'
console.log(obj.p) // hello
obj.x = 'hello world'
console.log(obj.x) // undefined
delete obj.p
console.log(obj.p) // hello
```

#### `Object.isFrozen()`

`Object.isFrozen`æ–¹æ³•ç”¨äºæ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä½¿ç”¨äº†`Object.freeze`æ–¹æ³•ã€‚ä½¿ç”¨`Object.freeze`æ–¹æ³•ä»¥åï¼Œ`Object.isSealed`å°†ä¼šè¿”å›`true`ï¼Œ`Object.isExtensible`è¿”å›`false`ã€‚

```javascript
let obj = { p: 'hello' }
Object.freeze(obj)
console.log(Object.isFrozen(obj)) // true
console.log(Object.isExtensible(obj)) // false
console.log(Object.isSealed(obj)) // true
```

- `Object.isFrozen`çš„ä¸€ä¸ªç”¨é€”æ˜¯ï¼Œç¡®è®¤æŸä¸ªå¯¹è±¡æ²¡æœ‰è¢«å†»ç»“åï¼Œå†å¯¹å®ƒçš„å±æ€§èµ‹å€¼

```javascript
let obj = { p: 'hello' }
Object.freeze(obj)
console.log(Object.isFrozen(obj)) // true
if (!Object.isFrozen(obj)) {
	obj.p = 'world';
}else {
	console.log('å·²è¢«å†»ç»“') // å·²è¢«å†»ç»“
}
```

#### å±€é™æ€§

1. ä¸‰ä¸ªæ–¹æ³•é”å®šå¯¹è±¡çš„å¯å†™æ€§æœ‰ä¸€ä¸ªæ¼æ´ï¼šå¯ä»¥é€šè¿‡æ”¹å˜åŸå‹å¯¹è±¡ï¼Œæ¥ä¸ºå¯¹è±¡å¢åŠ å±æ€§ã€‚

```javascript
let obj = new Object()
Object.freeze(obj)
let proto = Object.getPrototypeOf(obj)
proto.p = 'hello'
console.log(proto.p) // hello
```

è§£å†³æ–¹æ¡ˆï¼šå°†åŸå‹ä¹Ÿå†»ä½

```javascript
let obj = new Object()
Object.freeze(obj)
let proto = Object.getPrototypeOf(obj)
Object.freeze(proto)
proto.p = 'hello'
console.log(proto.p) // undefined
```

1. å¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡ï¼Œä¸Šé¢è¿™äº›æ–¹æ³•åªèƒ½å†»ç»“å±æ€§æŒ‡å‘çš„å¯¹è±¡ï¼Œè€Œä¸èƒ½å†»ç»“å¯¹è±¡æœ¬èº«çš„å†…å®¹ã€‚

```javascript
let obj = {
	foo: 1,
	baz: ['a', 'b']
}
Object.freeze(obj)
obj.baz.push('c')
console.log(obj.baz) // [ 'a', 'b', 'c' ]
```

`obj.bar`å±æ€§æŒ‡å‘ä¸€ä¸ªæ•°ç»„ï¼Œ`obj`å¯¹è±¡è¢«å†»ç»“ä»¥åï¼Œè¿™ä¸ªæŒ‡å‘æ— æ³•æ”¹å˜ï¼Œå³æ— æ³•æŒ‡å‘å…¶ä»–å€¼ï¼Œä½†æ˜¯æ‰€æŒ‡å‘çš„æ•°ç»„æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚

### å¯è¿­ä»£å¯¹è±¡

#### `Array.from`

```
Array.from(obj[,mapFn,thisArg]) 
```

å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°`mapFn`å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šåœ¨å¯¹è±¡ä¸­çš„å…ƒç´ è¢«æ·»åŠ åˆ°æ•°ç»„å‰è¢«åº”ç”¨ä¸æ¯ä¸ªå…ƒç´ ï¼Œæ­¤å¤–`thisArg`å…è®¸æˆ‘ä»¬ä¸ºè¯¥å‡½æ•°è®¾ç½®`this`ã€‚

å…¨å±€æ–¹æ³•`Array.from`å¯ä»¥æ¥å—ä¸€ä¸ªå¯è¿­ä»£æˆ–ç±»æ•°ç»„çš„å€¼ï¼Œå¹¶ä»ä¸­è·å–ä¸€ä¸ª"çœŸæ­£çš„"æ•°ç»„

```javascript
let arrayLike = {
	0: "Hello",
	1: "World",
	length: 2
};
// Array.fromæ–¹æ³•æ¥å—å¯¹è±¡ï¼Œæ£€æŸ¥å®ƒæ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡æˆ–æ•°ç»„å¯¹è±¡ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå¹¶å°†è¯¥å¯¹è±¡çš„æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°è¿™ä¸ªæ•°ç»„ä¸Šé¢
// å¦‚æœæ˜¯å¯è¿­ä»£å¯¹è±¡ä¹ŸåŒç†
let arr = Array.from(arrayLike);
console.log(arr.pop()); // åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´  world
console.log(arr); // æ•°ç»„Hello

// æˆ‘ä»¬ç”šè‡³å¯ä»¥åŸºäº Array.from åˆ›å»ºä»£ç†æ„ŸçŸ¥ï¼ˆsurrogate-awareï¼‰çš„slice æ–¹æ³•ï¼ˆè¯‘æ³¨ï¼šä¹Ÿå°±æ˜¯èƒ½å¤Ÿå¤„ç† UTF-16 æ‰©å±•å­—ç¬¦çš„ slice æ–¹æ³•ï¼‰ï¼š
function slice(str, start, end) {
	return Array.from(str).slice(start, end).join('');
}
let str = 'ğ’³ğŸ˜‚ğ©·¶';
alert(slice(str, 1, 3)); // ğŸ˜‚ğ©·¶
// åŸç”Ÿæ–¹æ³•ä¸æ”¯æŒè¯†åˆ«ä»£ç†å¯¹ï¼ˆè¯‘æ³¨ï¼šUTF-16 æ‰©å±•å­—ç¬¦ï¼‰
alert(str.slice(1, 3)); // ä¹±ç ï¼ˆä¸¤ä¸ªä¸åŒ UTF-16 æ‰©å±•å­—ç¬¦ç¢ç‰‡æ‹¼æ¥çš„ç»“æœï¼‰
```

### Objectå®ä¾‹æ–¹æ³•

#### `Object.prototype.valueOf()`

`valueOf`æ–¹æ³•çš„ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡çš„'å€¼'ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿”å›å¯¹è±¡æœ¬èº«

```javascript
let obj = new Object()
console.log(obj.valueOf() === obj) // true
```

#### `Object.prototype.toString() `

`toString`æ–¹æ³•çš„ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿”å›ç±»å‹å­—ç¬¦ä¸²ã€‚

```javascript
let o1 = new Object()
console.log(o1.toString()) // [object Object]
let o2 = { a: 1 }
console.log(o2.toString()) // [object Object]
```

#### `Object.prototype.hasOwnProperty()`

`Object.prototype.hasOwnProperty`æ–¹æ³•æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å®ä¾‹å¯¹è±¡è‡ªèº«æ˜¯å¦å…·æœ‰è¯¥å±æ€§ã€‚

```javascript
let obj = {
	p: 123
}
console.log(obj.hasOwnProperty('p')) // true
console.log(obj.hasOwnProperty('toString')) // false
```

## Symbolç±»å‹

### æ¦‚å¿µ

Symbolå€¼æ ‡è¯†å”¯ä¸€çš„æ ‡è¯†ç¬¦

```javascript
	let id = Symbol();// idæ˜¯Symbolçš„ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡
	// å¯ä»¥ç»™Symbolä¸€ä¸ªæè¿°(ä¹Ÿç§°ä¸ºSymbolå)
	let ids = Symbol("id");// idæ˜¯æè¿°ä¸º"id"çš„Symbol
	// æ³¨æ„ï¼šSymbol ä¿è¯æ˜¯å”¯ä¸€çš„ã€‚å³ä½¿æˆ‘ä»¬åˆ›å»ºäº†è®¸å¤šå…·æœ‰ç›¸åŒæè¿°çš„ Symbolï¼Œå®ƒä»¬çš„å€¼ä¹Ÿæ˜¯ä¸åŒã€‚æè¿°åªæ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸å½±å“ä»»ä½•ä¸œè¥¿ã€‚
	let id1 = Symbol("id");
	let id2 = Symbol("id");
	console.log(id1 === id2);//false
```

### Symbol è½¬æ¢ä¸ºå­—ç¬¦ä¸²

```javascript
	// Symbolè½¬æ¢ä¸ºå­—ç¬¦ä¸²
	console.log(ids.toString()) // Symbol(id)
	// è·å– symbol.description å±æ€§ï¼Œåªæ˜¾ç¤ºæè¿°ï¼ˆdescriptionï¼‰
	console.log(ids.description) // id
```

### å¯¹è±¡å­—é¢é‡ä¸­çš„Symbol

å¦‚æœæˆ‘ä»¬è¦åœ¨å¯¹è±¡å­—é¢é‡`{...}`ä¸­ä½¿ç”¨`Symbol`ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥

```javascript
	let id3 = Symbol("id3");
	let user = {
		name: "karim",
		[id3]: 123, // å› ä¸ºæˆ‘ä»¬éœ€è¦å˜é‡ä½œä¸ºé”®ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²"id"
	}
```

### Symbolåœ¨for..inä¸­ä¼šè¢«è·³è¿‡

- Symbolå±æ€§ä¸å‚ä¸`for..in`å¾ªç¯

```javascript
	let sys = Symbol("id");
	let user1 = {
		name: "karim",
		age: 30,
		[sys]: 123,
	}
	for (let key in user1) {
		console.log(key) // name age æ— Symbol
	}
	// ä½¿ç”¨Symbolä»»åŠ¡ç›´æ¥è®¿é—®
	console.log("Direct:" + user1[sys]); // 123
```

- Object.assignä¼šåŒæ—¶å¤åˆ¶å­—ç¬¦ä¸²å’ŒSymbolå±æ€§

```javascript
	let sys2 = Symbol("id");
	let user2 = {
		[sys2]: 123
	};
	let clone = Object.assign({}, user2)
	console.log(clone[sys2]) // 123
```

### å…¨å±€Symbol

éœ€æ±‚ï¼šæƒ³è¦åå­—ç›¸åŒçš„Symbolå…·æœ‰ç›¸åŒçš„å®ä½“ ä½¿ç”¨Symbol.for(key)ä¼šæ£€æŸ¥å…¨å±€æ³¨å†Œè¡¨ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæè¿°ä¸ºkeyçš„Symbolï¼Œåˆ™è¿”å›è¯¥Symbolï¼Œå¦åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„Symbol(key)ï¼Œå¹¶é€šè¿‡ç»™å®šçš„çš„keyå°†å…¶å­˜å‚¨åˆ°æ³¨å†Œè¡¨ä¸­

```javascript
// 1. ä»å…¨å±€æ³¨å†Œè¡¨ä¸­è¯»å–ï¼Œå¦‚æœSymbolä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒ
let id = Symbol.for("id");
// 2.JSON.stringify å†æ¬¡è¯»å–(å¯èƒ½åœ¨ä»£ç çš„å¦ä¸€ä¸ªä½ç½®)
let isAgain = Symbol.for("id");
// 3. ç›¸åŒçš„Symbol
alert(id === isAgain) // true
// ä¸»è¦ç”¨é€”ï¼šæ³¨å†Œè¡¨å†…çš„ Symbol è¢«ç§°ä¸º å…¨å±€ Symbolã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªåº”ç”¨ç¨‹åºèŒƒå›´å†…çš„ Symbolï¼Œå¯ä»¥åœ¨ä»£ç ä¸­éšå¤„è®¿é—®ã€‚

// 4. åå‘è°ƒç”¨Symbol.keyFor(sym)å®ƒçš„ä½œç”¨å®Œå…¨åè¿‡æ¥ï¼šé€šè¿‡å…¨å±€Symbolè¿”å›ä¸€ä¸ªåå­—
// é€šè¿‡nameè·å–Symbol
let sym1 = Symbol.for("name");
let sym2 = Symbol.for("id");
// é€šè¿‡Symbolè·å–name
console.log(Symbol.keyFor(sym1)) // name
console.log(Symbol.keyFor(sym2)) // id
// Symbol.keyFor å†…éƒ¨ä½¿ç”¨å…¨å±€ Symbol æ³¨å†Œè¡¨æ¥æŸ¥æ‰¾ Symbol çš„é”®ã€‚æ‰€ä»¥å®ƒä¸é€‚ç”¨äºéå…¨å±€ Symbolã€‚å¦‚æœ Symbol ä¸æ˜¯å…¨å±€çš„ï¼Œå®ƒå°†æ— æ³•æ‰¾åˆ°å®ƒå¹¶è¿”å› undefined
let globalSymbol = Symbol.for("name");
let localSymbol = Symbol("name");

console.log(Symbol.keyFor(globalSymbol)); // nameï¼Œå…¨å±€ Symbol
console.log(Symbol.keyFor(localSymbol)); // undefinedï¼Œéå…¨å±€

console.log(localSymbol.description); // name
```

## newåœ¨æ‰§è¡Œæ—¶åšçš„äº‹æƒ…

- åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡
- è®©thisæŒ‡å‘è¿™ä¸ªæ–°çš„å¯¹è±¡
- æ‰§è¡Œæ„é€ å‡½æ•°é‡Œé¢çš„ä»£ç ï¼Œç»™è¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•
- è¿”å›è¿™ä¸ªæ–°å¯¹è±¡(æ‰€ä»¥æ„é€ å‡½æ•°é‡Œé¢ä¸éœ€è¦return)
